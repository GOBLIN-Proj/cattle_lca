<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>cattle_lca.lca &mdash; Cattle LCA 0.3.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=e259d695"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Cattle LCA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../INSTALLATION.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Cattle LCA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">cattle_lca.lca</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for cattle_lca.lca</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Cattle LCA Module</span>
<span class="sd">------------------</span>

<span class="sd">This module contains classes and methods for calculating the environmental impact of cattle farming, including energy requirements,</span>
<span class="sd">emissions, and waste management. It covers various stages of cattle lifecycle and farm operations such as grazing, housing, manure management, and fertilization practices. The module aims to provide a comprehensive assessment tool for understanding and reducing the environmental footprint associated with cattle production.</span>

<span class="sd">The module includes detailed assessments of greenhouse gas emissions, eutrophication potential, air quality impacts, and resource usage to support sustainable farming practices and decision-making. By integrating data from various sources and applying region-specific emission factors, the module helps in evaluating the overall environmental performance of cattle farms.</span>

<span class="sd">Key Features:</span>
<span class="sd">- Calculation of energy consumption and efficiency in cattle farming.</span>
<span class="sd">- Estimation of greenhouse gas emissions from enteric fermentation, manure management, and other farm activities.</span>
<span class="sd">- Assessment of nutrient runoff and its impact on eutrophication.</span>
<span class="sd">- Evaluation of ammonia emissions and their contribution to air quality issues.</span>
<span class="sd">- Analysis of upstream impacts related to feed production, fertilizer use, and other inputs.</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">cattle_lca.resource_manager.cattle_lca_data_manager</span> <span class="kn">import</span> <span class="n">LCADataManager</span>
<span class="kn">import</span> <span class="nn">copy</span>

<div class="viewcode-block" id="Energy">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Energy">[docs]</a>
<span class="k">class</span> <span class="nc">Energy</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the calculations for various energy needs and intakes for animals based on their cohort,</span>
<span class="sd">    diet, and physiological state. It utilizes a series of equations from the IPCC 2006 guidelines and other</span>
<span class="sd">    resources to estimate the energy required for maintenance, growth, lactation, and pregnancy, as well as</span>
<span class="sd">    the energy provided by forage and concentrates.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        data_manager_class (LCADataManager): An instance of LCADataManager initialized with a specific ef_country,</span>
<span class="sd">                                             used to access various parameters and energy factors needed for calculations.</span>

<span class="sd">    Methods:</span>
<span class="sd">        ratio_of_net_energy_maintenance(animal): Calculates the ratio of net energy available for maintenance.</span>
<span class="sd">        ratio_of_net_energy_growth(animal): Calculates the ratio of net energy available for growth.</span>
<span class="sd">        net_energy_for_maintenance(animal): Calculates the net energy required for maintaining basic physiological functions.</span>
<span class="sd">        net_energy_for_activity(animal): Calculates the additional net energy required for animal activities based on grazing type.</span>
<span class="sd">        net_energy_for_weight_gain(animal): Calculates the net energy required for animal growth.</span>
<span class="sd">        net_energy_for_lactation(animal): Calculates the net energy required for lactation.</span>
<span class="sd">        net_energy_for_pregnancy(animal): Calculates the net energy required during pregnancy.</span>
<span class="sd">        gross_energy_from_concentrate(animal): Calculates the total gross energy intake from concentrates.</span>
<span class="sd">        gross_energy_from_grass(animal): Estimates the total gross energy intake from grasses, adjusted for energy intake from concentrates.</span>
<span class="sd">        total_gross_energy(animal): Estimates the total gross energy intake from all sources.</span>

<span class="sd">    Note:</span>
<span class="sd">        This class requires detailed data about the animal cohorts, their diets, and physiological states to perform accurate calculations.</span>
<span class="sd">        These calculations are based on standards provided by IPCC guidelines and other agricultural research sources.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ef_country</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">LCADataManager</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>

<div class="viewcode-block" id="Energy.ratio_of_net_energy_maintenance">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Energy.ratio_of_net_energy_maintenance">[docs]</a>
    <span class="k">def</span> <span class="nf">ratio_of_net_energy_maintenance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the Ratio of Net Energy Maintenance (REM) to the total digestible energy consumed by the animal.</span>
<span class="sd">        This ratio helps in understanding how much of the energy consumed is being used for maintenance activities.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The animal for which the REM is being calculated. The animal object should contain the forage type being consumed.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The ratio of net energy available for maintenance compared to the total energy consumed.</span>
<span class="sd">        </span>
<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        The digestible energy (DE) from the forage type input into the animal and farm data is used to calculate the REM.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">DE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_forage_digestibility</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">forage</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="mf">1.123</span>
            <span class="o">-</span> <span class="p">(</span><span class="mf">4.092</span> <span class="o">*</span> <span class="p">(</span><span class="mi">10</span><span class="o">**-</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">DE</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="mf">1.126</span> <span class="o">*</span> <span class="p">(</span><span class="mi">10</span><span class="o">**-</span><span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">DE</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
            <span class="o">-</span> <span class="p">(</span><span class="mf">25.4</span> <span class="o">/</span> <span class="n">DE</span><span class="p">)</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Energy.ratio_of_net_energy_growth">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Energy.ratio_of_net_energy_growth">[docs]</a>
    <span class="k">def</span> <span class="nf">ratio_of_net_energy_growth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the Ratio of Net Energy Growth (REG) to the total digestible energy consumed by the animal.</span>
<span class="sd">        This ratio is essential for understanding how much of the energy consumed is utilized for growth purposes.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The animal cohort type from the animal input data.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The ratio of net energy available for growth compared to the total energy consumed.</span>

<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        The digestible energy (DE) from the forage type input into the animal and farm data is used to calculate the REG.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">DE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_forage_digestibility</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">forage</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="mf">1.164</span>
            <span class="o">-</span> <span class="p">(</span><span class="mf">5.160</span> <span class="o">*</span> <span class="p">(</span><span class="mi">10</span><span class="o">**-</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">DE</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="mf">1.308</span> <span class="o">*</span> <span class="p">(</span><span class="mi">10</span><span class="o">**-</span><span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">DE</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
            <span class="o">-</span> <span class="p">(</span><span class="mf">37.4</span> <span class="o">/</span> <span class="n">DE</span><span class="p">)</span>
        <span class="p">)</span></div>


    <span class="c1">#############################################################################################</span>
    <span class="c1"># Energy &amp; Enteric Fermentation</span>
    <span class="c1">#############################################################################################</span>

<div class="viewcode-block" id="Energy.net_energy_for_maintenance">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Energy.net_energy_for_maintenance">[docs]</a>
    <span class="k">def</span> <span class="nf">net_energy_for_maintenance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the net energy required for maintenance based on the animal&#39;s weight.</span>
<span class="sd">        This involves activities that include basic physiological functions such as respiration, circulation, and maintaining body temperature.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The animal for which the energy for maintenance is being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The net energy required for maintenance activities, based on the animal&#39;s weight.</span>

<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        This calculation follows equation 10.3 from the IPCC 2006 guidelines (NEm).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">cfi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;coefficient&quot;</span><span class="p">)()</span>

        <span class="k">return</span> <span class="n">cfi</span> <span class="o">*</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">weight</span><span class="o">**</span><span class="mf">0.75</span><span class="p">)</span></div>


<div class="viewcode-block" id="Energy.net_energy_for_activity">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Energy.net_energy_for_activity">[docs]</a>
    <span class="k">def</span> <span class="nf">net_energy_for_activity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the net energy required for activities, based on the type of feeding situation (grazing type).</span>
<span class="sd">        This includes the energy required for movements and other physical activities other than those for basic maintenance.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The animal for which the energy for activity is being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The net energy required for activities.</span>

<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        This uses the net energy for maintenance, multiplied by the coefficient for the animal&#39;s specific feed situation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_grazing_type</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">grazing</span><span class="p">)()</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_maintenance</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span></div>


<div class="viewcode-block" id="Energy.net_energy_for_weight_gain">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Energy.net_energy_for_weight_gain">[docs]</a>
    <span class="k">def</span> <span class="nf">net_energy_for_weight_gain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the net energy required for weight gain, tailored to the animal&#39;s specific weight gain rate and physiological state.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The animal for which the energy for weight gain is being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The net energy required for weight gain.</span>

<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        Utilizes equation 10.6 from the IPCC 2006 guidelines (NEg) and is parameterized to the animal&#39;s daily weight gain.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gain</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;weight_gain&quot;</span><span class="p">)()</span>
        <span class="n">coef</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;growth&quot;</span><span class="p">)()</span>
        <span class="n">mature_weight</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;mature_weight&quot;</span><span class="p">)()</span>
        
        <span class="k">return</span> <span class="p">(</span>
            <span class="mf">22.02</span>
            <span class="o">*</span> <span class="p">((</span><span class="n">animal</span><span class="o">.</span><span class="n">weight</span> <span class="o">/</span> <span class="p">(</span><span class="n">coef</span> <span class="o">*</span> <span class="n">mature_weight</span><span class="p">))</span> <span class="o">**</span> <span class="mf">0.75</span><span class="p">)</span>
            <span class="o">*</span> <span class="p">(</span><span class="n">gain</span><span class="o">**</span><span class="mf">1.097</span><span class="p">)</span>
        <span class="p">)</span></div>

    

<div class="viewcode-block" id="Energy.net_energy_for_lactation">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Energy.net_energy_for_lactation">[docs]</a>
    <span class="k">def</span> <span class="nf">net_energy_for_lactation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the energy required for lactation, considering the milk volume and fat content.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The lactating animal for which the energy for lactation is being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The net energy required for producing milk.</span>

<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        Factors in milk density and fat content to compute the required energy for milk production.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">milk</span> <span class="o">=</span> <span class="n">animal</span><span class="o">.</span><span class="n">daily_milk</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_milk_density</span><span class="p">()</span>
        <span class="n">fat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_fat</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">milk</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.47</span> <span class="o">+</span> <span class="mf">0.40</span> <span class="o">*</span> <span class="n">fat</span><span class="p">)</span></div>


<div class="viewcode-block" id="Energy.net_energy_for_pregnancy">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Energy.net_energy_for_pregnancy">[docs]</a>
    <span class="k">def</span> <span class="nf">net_energy_for_pregnancy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the energy required for pregnancy.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The pregnant animal for which the energy for pregnancy is being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The net energy required for supporting pregnancy.</span>

<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        Based on the net energy for maintenance and modified by the emissions factor for pregnancy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">coef</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;pregnancy&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">coef</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">nep</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nep</span> <span class="o">=</span> <span class="n">coef</span><span class="p">()</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_maintenance</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">nep</span></div>



<div class="viewcode-block" id="Energy.gross_energy_from_concentrate">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Energy.gross_energy_from_concentrate">[docs]</a>
    <span class="k">def</span> <span class="nf">gross_energy_from_concentrate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total gross energy intake from concentrate feeds consumed by the animal.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The animal for which the energy intake from concentrates is being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The total gross energy intake from concentrates.</span>

<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        Accounts for the digestibility and energy content of the concentrate feed type consumed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_concentrate_digestibility</span><span class="p">(</span>
            <span class="n">animal</span><span class="o">.</span><span class="n">con_type</span>
        <span class="p">)</span>
        <span class="n">mj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_con_dry_matter_gross_energy</span><span class="p">(</span>
            <span class="n">animal</span><span class="o">.</span><span class="n">con_type</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">con_amount</span> <span class="o">*</span> <span class="n">dm</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="n">mj</span></div>


<div class="viewcode-block" id="Energy.gross_energy_from_grass">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Energy.gross_energy_from_grass">[docs]</a>
    <span class="k">def</span> <span class="nf">gross_energy_from_grass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Estimates the total gross energy intake from grasses for an animal, after accounting for energy contributions </span>
<span class="sd">        from different physiological needs and adjusted for the energy concentrates.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The animal for which the gross energy intake from grasses is being estimated.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The total gross energy intake from grasses, adjusted for the energy already provided by concentrates.</span>

<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        The calculation considers digestible energy from forage, energy for maintenance, activity, lactation, pregnancy, </span>
<span class="sd">        weight gain, and subtracts the energy intake from concentrates.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">DMD</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_forage_digestibility</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">forage</span><span class="p">)</span>

        <span class="n">REM</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ratio_of_net_energy_maintenance</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">REG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ratio_of_net_energy_growth</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEM</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_maintenance</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_activity</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_lactation</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEP</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_pregnancy</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_weight_gain</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">con</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gross_energy_from_concentrate</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">((((</span><span class="n">NEM</span> <span class="o">+</span> <span class="n">NEA</span> <span class="o">+</span> <span class="n">NEL</span> <span class="o">+</span> <span class="n">NEP</span><span class="p">)</span> <span class="o">/</span> <span class="n">REM</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">NEG</span> <span class="o">/</span> <span class="n">REG</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">DMD</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">))</span> <span class="o">-</span> <span class="n">con</span></div>


<div class="viewcode-block" id="Energy.total_gross_energy">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Energy.total_gross_energy">[docs]</a>
    <span class="k">def</span> <span class="nf">total_gross_energy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total gross energy intake for an animal, encompassing all sources of energy including grass and concentrates, </span>
<span class="sd">        and accounting for various physiological energy demands.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The animal for which the total gross energy intake is being estimated.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The total gross energy intake, considering all physiological energy needs and sources.</span>

<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        This method aggregates the net energy for maintenance, activity, lactation, pregnancy, and weight gain against </span>
<span class="sd">        the backdrop of the animal&#39;s diet digestibility and respective energy ratios for maintenance and growth.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">DMD</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_forage_digestibility</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">forage</span><span class="p">)</span>

        <span class="n">REM</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ratio_of_net_energy_maintenance</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">REG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ratio_of_net_energy_growth</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEM</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_maintenance</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_activity</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_lactation</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEP</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_pregnancy</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_energy_for_weight_gain</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(((</span><span class="n">NEM</span> <span class="o">+</span> <span class="n">NEA</span> <span class="o">+</span> <span class="n">NEL</span> <span class="o">+</span> <span class="n">NEP</span><span class="p">)</span> <span class="o">/</span> <span class="n">REM</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">NEG</span> <span class="o">/</span> <span class="n">REG</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">DMD</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="GrassFeed">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrassFeed">[docs]</a>
<span class="k">class</span> <span class="nc">GrassFeed</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The GrassFeed class provides methods to calculate various energy-related metrics for animals, specifically focusing on those fed primarily on grass. </span>
<span class="sd">    It takes into account the dry matter intake from grass, the proportion of the diet made up of concentrates, </span>
<span class="sd">    and methane emissions based on the animal&#39;s diet.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ----------</span>
<span class="sd">    energy_class : Energy</span>
<span class="sd">        An instance of the Energy class, used to calculate various energy metrics for the animal.</span>
<span class="sd">    data_manager_class : LCADataManager</span>
<span class="sd">        An instance of the LCADataManager class, used to access data necessary for energy and emissions calculations.</span>

<span class="sd">    Methods:</span>
<span class="sd">    -------</span>
<span class="sd">    dry_matter_from_grass(animal)</span>
<span class="sd">        Calculates the dry matter intake from grasses for an animal, adjusted for the energy intake from concentrates.</span>
<span class="sd">    gross_amount_from_con_in_percent(animal, share_in_percent)</span>
<span class="sd">        Estimates the total energy intake from concentrates, as a percentage of the animal&#39;s total diet.</span>
<span class="sd">    ch4_emissions_factor(animal)</span>
<span class="sd">        Calculates the methane emissions factor based on the feed intake and methane conversion factors.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ef_country</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span> <span class="o">=</span> <span class="n">Energy</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">LCADataManager</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>


<div class="viewcode-block" id="GrassFeed.dry_matter_from_grass">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrassFeed.dry_matter_from_grass">[docs]</a>
    <span class="k">def</span> <span class="nf">dry_matter_from_grass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Estimates the dry matter intake from grasses for an animal, adjusted for the energy intake from concentrates.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The animal for which the dry matter intake from grass is being estimated.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The total dry matter intake from grasses, after adjusting for the energy provided by concentrates and accounting for different physiological energy needs.</span>

<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        The calculation considers net energy for maintenance, activity, lactation, pregnancy, weight gain, and the digestible energy from forage. This method ensures a more accurate estimation of the actual dry matter intake from grass for the specified animal.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">DMD</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_forage_digestibility</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">forage</span><span class="p">)</span>

        <span class="n">REM</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">ratio_of_net_energy_maintenance</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">REG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">ratio_of_net_energy_growth</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEM</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">net_energy_for_maintenance</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">net_energy_for_activity</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">net_energy_for_lactation</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEP</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">net_energy_for_pregnancy</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">net_energy_for_weight_gain</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">con</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">gross_energy_from_concentrate</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">GE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_grass_dry_matter_gross_energy</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">forage</span><span class="p">)</span>
        <span class="n">dm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_concentrate_digestibility</span><span class="p">(</span>
            <span class="n">animal</span><span class="o">.</span><span class="n">con_type</span>
        <span class="p">)</span>

        <span class="n">share_con</span> <span class="o">=</span> <span class="n">con</span> <span class="o">/</span> <span class="p">(</span>
            <span class="p">((</span><span class="n">NEM</span> <span class="o">+</span> <span class="n">NEA</span> <span class="o">+</span> <span class="n">NEL</span> <span class="o">+</span> <span class="n">NEP</span><span class="p">)</span> <span class="o">/</span> <span class="n">REM</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">NEG</span> <span class="o">/</span> <span class="n">REG</span><span class="p">)</span>
        <span class="p">)</span>  <span class="c1"># proportion that is concentrate</span>

        <span class="n">DMD_average</span> <span class="o">=</span> <span class="n">share_con</span> <span class="o">*</span> <span class="n">dm</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">share_con</span><span class="p">)</span> <span class="o">*</span> <span class="n">DMD</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="p">(</span>
                <span class="p">(((</span><span class="n">NEM</span> <span class="o">+</span> <span class="n">NEA</span> <span class="o">+</span> <span class="n">NEL</span> <span class="o">+</span> <span class="n">NEP</span><span class="p">)</span> <span class="o">/</span> <span class="n">REM</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">NEG</span> <span class="o">/</span> <span class="n">REG</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">DMD_average</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">)</span>
                <span class="o">-</span> <span class="n">con</span>
            <span class="p">)</span>
        <span class="p">)</span> <span class="o">/</span> <span class="n">GE</span></div>


    <span class="c1">##REMI ADDED Functions</span>
<div class="viewcode-block" id="GrassFeed.gross_amount_from_con_in_percent">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrassFeed.gross_amount_from_con_in_percent">[docs]</a>
    <span class="k">def</span> <span class="nf">gross_amount_from_con_in_percent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">,</span> <span class="n">share_in_percent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Estimates the total energy intake from concentrates, as a percentage of the animal&#39;s total diet, adjusted for the energy intake from grass.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The animal for which the energy intake from concentrates is being estimated.</span>
<span class="sd">        share_in_percent : float</span>
<span class="sd">            The percentage of the diet made up by concentrates.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The energy intake from concentrates, expressed as a percentage of the total diet.</span>

<span class="sd">        Notes:</span>
<span class="sd">        -----</span>
<span class="sd">        This method provides an estimate of how much energy the animal is obtaining from concentrates as opposed to grass, helping to balance the diet according to physiological energy demands.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">REM</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">ratio_of_net_energy_maintenance</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">REG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">ratio_of_net_energy_growth</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEM</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">net_energy_for_maintenance</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEA</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">net_energy_for_activity</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">net_energy_for_lactation</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEP</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">net_energy_for_pregnancy</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NEG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">net_energy_for_weight_gain</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">dm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_concentrate_digestibility</span><span class="p">(</span>
            <span class="n">animal</span><span class="o">.</span><span class="n">con_type</span>
        <span class="p">)</span>
        <span class="n">DMD</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_forage_digestibility</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">forage</span><span class="p">)</span>
        <span class="n">mj_con</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_con_dry_matter_gross_energy</span><span class="p">(</span>
            <span class="n">animal</span><span class="o">.</span><span class="n">con_type</span>
        <span class="p">)</span>
        <span class="n">mj_grass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_grass_dry_matter_gross_energy</span><span class="p">(</span>
            <span class="n">animal</span><span class="o">.</span><span class="n">forage</span>
        <span class="p">)</span>

        <span class="n">DMD_average</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">share_in_percent</span> <span class="o">/</span> <span class="mf">100.0</span> <span class="o">*</span> <span class="n">dm</span> <span class="o">+</span> <span class="p">(</span><span class="mf">100.0</span> <span class="o">-</span> <span class="n">share_in_percent</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">DMD</span>
        <span class="p">)</span>
        <span class="n">mj_average</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">share_in_percent</span> <span class="o">/</span> <span class="mf">100.0</span> <span class="o">*</span> <span class="n">mj_con</span>
            <span class="o">+</span> <span class="p">(</span><span class="mf">100.0</span> <span class="o">-</span> <span class="n">share_in_percent</span><span class="p">)</span> <span class="o">/</span> <span class="mf">100.0</span> <span class="o">*</span> <span class="n">mj_grass</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="p">((((</span><span class="n">NEM</span> <span class="o">+</span> <span class="n">NEA</span> <span class="o">+</span> <span class="n">NEL</span> <span class="o">+</span> <span class="n">NEP</span><span class="p">)</span> <span class="o">/</span> <span class="n">REM</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">NEG</span> <span class="o">/</span> <span class="n">REG</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">DMD_average</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">))</span>
            <span class="o">/</span> <span class="n">mj_average</span>
            <span class="o">*</span> <span class="p">(</span><span class="n">share_in_percent</span> <span class="o">/</span> <span class="p">(</span><span class="mf">100.0</span><span class="p">))</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="GrassFeed.ch4_emissions_factor">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrassFeed.ch4_emissions_factor">[docs]</a>
    <span class="k">def</span> <span class="nf">ch4_emissions_factor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the methane emissions factor based on the feed intake, specifically the gross energy from concentrates and grasses, and the methane conversion factor associated with the animal&#39;s cohort.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : Animal object</span>
<span class="sd">            The animal for which the methane emissions factor is being estimated.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The methane emissions factor per animal per year, taking into account the animal&#39;s total energy intake from all feed sources.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">year</span> <span class="o">=</span> <span class="mi">365</span>
        <span class="n">Ym</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;methane_conversion_factor&quot;</span><span class="p">)()</span>

        <span class="n">methane_energy</span> <span class="o">=</span> <span class="mf">55.65</span>  <span class="c1"># MJ/kg of CH4</span>

        <span class="n">GEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">gross_energy_from_concentrate</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">GEG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">gross_energy_from_grass</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="n">GET</span> <span class="o">=</span> <span class="p">(</span><span class="n">GEC</span> <span class="o">+</span> <span class="n">GEG</span><span class="p">)</span> <span class="o">*</span> <span class="n">year</span>

        <span class="k">return</span> <span class="n">GET</span> <span class="o">*</span> <span class="p">(</span><span class="n">Ym</span> <span class="o">/</span> <span class="n">methane_energy</span><span class="p">)</span></div>
</div>



<span class="c1">#############################################################################################</span>
<span class="c1"># Grazing Stage</span>
<span class="c1">#############################################################################################</span>


<div class="viewcode-block" id="GrazingStage">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrazingStage">[docs]</a>
<span class="k">class</span> <span class="nc">GrazingStage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The GrazingStage class calculates various metrics related to the environmental impact of grazing animals. </span>
<span class="sd">    This includes the volatile solids excretion rate to pasture, net nitrogen excretion, methane emissions from grazing, ammonia emissions, </span>
<span class="sd">    nitrogen and phosphorus leaching, and direct and indirect N2O emissions from pasture.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ----------</span>
<span class="sd">    energy_class : Energy</span>
<span class="sd">        An instance of the Energy class, used for calculations involving energy metrics of animals.</span>
<span class="sd">    grass_feed_class : GrassFeed</span>
<span class="sd">        An instance of the GrassFeed class, used to calculate energy intake from grasses.</span>
<span class="sd">    data_manager_class : LCADataManager</span>
<span class="sd">        An instance of the LCADataManager class, used to access data necessary for the calculations.</span>

<span class="sd">    Methods:</span>
<span class="sd">    -------</span>
<span class="sd">    percent_outdoors(animal)</span>
<span class="sd">        Calculates the percentage of time an animal spends outdoors based on its time outdoors attribute.</span>
<span class="sd">    volatile_solids_excretion_rate_GRAZING(animal)</span>
<span class="sd">        Calculates the rate at which volatile solids are excreted to pasture by the animal.</span>
<span class="sd">    net_excretion_GRAZING(animal)</span>
<span class="sd">        Calculates the net nitrogen excretion per kilogram to pasture by the animal.</span>
<span class="sd">    ch4_emissions_for_grazing(animal)</span>
<span class="sd">        Estimates the methane emissions from the animal excretion while grazing.</span>
<span class="sd">    nh3_emissions_per_year_GRAZING(animal)</span>
<span class="sd">        Calculates the total ammonia emissions per year from the animal while grazing.</span>
<span class="sd">    Nleach_GRAZING(animal)</span>
<span class="sd">        Estimates the amount of nitrogen leached from the pasture due to the grazing animal.</span>
<span class="sd">    PLeach_GRAZING(animal)</span>
<span class="sd">        Estimates the amount of phosphorus leached from the pasture due to the grazing animal.</span>
<span class="sd">    PRP_N2O_direct(animal)</span>
<span class="sd">        Calculates the direct nitrous oxide emissions from pasture, range, and paddock due to the grazing animal.</span>
<span class="sd">    PRP_N2O_indirect(animal)</span>
<span class="sd">        Calculates the indirect nitrous oxide emissions from atmospheric deposition and leaching related to pasture, </span>
<span class="sd">        range, and paddock due to the grazing animal.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ef_country</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span> <span class="o">=</span> <span class="n">Energy</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grass_feed_class</span> <span class="o">=</span> <span class="n">GrassFeed</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">LCADataManager</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>

<div class="viewcode-block" id="GrazingStage.percent_outdoors">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrazingStage.percent_outdoors">[docs]</a>
    <span class="k">def</span> <span class="nf">percent_outdoors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the percentage of the day that the animal spends outdoors.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant data such as time spent outdoors.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The percentage of the day the animal spends outdoors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">hours</span> <span class="o">=</span> <span class="mi">24</span>
        <span class="k">return</span> <span class="n">animal</span><span class="o">.</span><span class="n">t_outdoors</span> <span class="o">/</span> <span class="n">hours</span></div>


<div class="viewcode-block" id="GrazingStage.volatile_solids_excretion_rate_GRAZING">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrazingStage.volatile_solids_excretion_rate_GRAZING">[docs]</a>
    <span class="k">def</span> <span class="nf">volatile_solids_excretion_rate_GRAZING</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the volatile solids excretion rate (kg/day) to pasture for grazing animals. This measure</span>
<span class="sd">        is an indicator of the amount of waste produced by the animal that can contribute to</span>
<span class="sd">        greenhouse gas emissions.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant dietary and physical information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The volatile solids excretion rate to pasture.</span>
<span class="sd">            This function calculates Volitile Solids Excretion Rate (kg/day -1) to pasture</span>

<span class="sd">        Notes:</span>
<span class="sd">        ------</span>
<span class="sd">            GEC   = Gross Energy from Concentrates</span>
<span class="sd">            GEG   = Gross Energy from grass</span>
<span class="sd">            DE    = Percentage of Digestible Energy</span>
<span class="sd">            UE    = Urinary Energy</span>
<span class="sd">            ASH   = Ash content of manure</span>
<span class="sd">            18.45 = conversion factor for dietary GE per kg of dry matter, MJ kg-1.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">DEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_concentrate_digestable_energy</span><span class="p">(</span>
            <span class="n">animal</span><span class="o">.</span><span class="n">con_type</span>
        <span class="p">)</span>  <span class="c1"># Digestibility</span>
        <span class="n">UE</span> <span class="o">=</span> <span class="mf">0.04</span>
        <span class="n">ASH</span> <span class="o">=</span> <span class="mf">0.08</span>
        <span class="n">DMD</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_forage_digestibility</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">forage</span><span class="p">)</span>
        <span class="n">GEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">gross_energy_from_concentrate</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">GEG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">gross_energy_from_grass</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">OUT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">percent_outdoors</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(((</span><span class="n">GEG</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">DMD</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">UE</span> <span class="o">*</span> <span class="n">GEG</span><span class="p">))</span> <span class="o">*</span> <span class="p">((</span><span class="mi">1</span> <span class="o">-</span> <span class="n">ASH</span><span class="p">)</span> <span class="o">/</span> <span class="mf">18.45</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">GEC</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">DEC</span> <span class="o">/</span> <span class="mi">100</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">UE</span> <span class="o">*</span> <span class="n">GEC</span><span class="p">))</span> <span class="o">*</span> <span class="p">(((</span><span class="mi">1</span> <span class="o">-</span> <span class="n">ASH</span><span class="p">)</span> <span class="o">/</span> <span class="mf">18.45</span><span class="p">))</span>
        <span class="p">)</span> <span class="o">*</span> <span class="n">OUT</span></div>


<div class="viewcode-block" id="GrazingStage.net_excretion_GRAZING">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrazingStage.net_excretion_GRAZING">[docs]</a>
    <span class="k">def</span> <span class="nf">net_excretion_GRAZING</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the net nitrogen excretion (kg/day) per kg to pasture. This is a measure of the nitrogen</span>
<span class="sd">        that is excreted by grazing animals and can impact soil and water quality.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant dietary and physical information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The net nitrogen excretion rate to pasture.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">CP</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_concentrate_crude_protein</span><span class="p">(</span>
            <span class="n">animal</span><span class="o">.</span><span class="n">con_type</span>
        <span class="p">)</span>  <span class="c1"># crude protein percentage (N contained in crude protein), apparently, 16% is the average N content; https://www.feedipedia.org/node/8329</span>
        <span class="n">FCP</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_grass_crude_protein</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">forage</span><span class="p">)</span>
        <span class="n">GEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">gross_energy_from_concentrate</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">GEG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">gross_energy_from_grass</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">OUT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">percent_outdoors</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>


        <span class="n">N_retention_fraction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;N_retention&quot;</span><span class="p">)()</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="p">(((</span><span class="n">GEC</span> <span class="o">*</span> <span class="mi">365</span><span class="p">)</span> <span class="o">/</span> <span class="mf">18.45</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">CP</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="mf">6.25</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">N_retention_fraction</span><span class="p">))</span>
            <span class="o">+</span> <span class="p">((((</span><span class="n">GEG</span> <span class="o">*</span> <span class="mi">365</span><span class="p">)</span> <span class="o">/</span> <span class="mf">18.45</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">FCP</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">6.25</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">0.02</span><span class="p">))</span>
        <span class="p">)</span> <span class="o">*</span> <span class="n">OUT</span></div>


<div class="viewcode-block" id="GrazingStage.ch4_emissions_for_grazing">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrazingStage.ch4_emissions_for_grazing">[docs]</a>
    <span class="k">def</span> <span class="nf">ch4_emissions_for_grazing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the methane emissions for grazing based on the animal&#39;s excretion rates and time spent</span>
<span class="sd">        outdoors.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant dietary, physical, and grazing information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The annual methane emissions from grazing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">year</span> <span class="o">=</span> <span class="mi">365</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">volatile_solids_excretion_rate_GRAZING</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
            <span class="o">*</span> <span class="n">year</span>
            <span class="o">*</span> <span class="mf">0.1</span>
            <span class="o">*</span> <span class="mf">0.67</span>
            <span class="o">*</span> <span class="mf">0.02</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="GrazingStage.nh3_emissions_per_year_GRAZING">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrazingStage.nh3_emissions_per_year_GRAZING">[docs]</a>
    <span class="k">def</span> <span class="nf">nh3_emissions_per_year_GRAZING</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total ammonia emissions per year from grazing animals. Ammonia emissions contribute</span>
<span class="sd">        to air quality issues and can lead to nitrogen deposition in ecosystems.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant dietary and physical information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The total ammonia emissions per year from grazing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">TAN</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;total_ammonia_nitrogen&quot;</span><span class="p">)()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_excretion_GRAZING</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.6</span> <span class="o">*</span> <span class="n">TAN</span></div>



<div class="viewcode-block" id="GrazingStage.Nleach_GRAZING">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrazingStage.Nleach_GRAZING">[docs]</a>
    <span class="k">def</span> <span class="nf">Nleach_GRAZING</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the proportion of nitrogen that is leached from pasture as a result of grazing.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant dietary and physical information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The amount of nitrogen leached from pasture due to grazing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ten_percent_nex</span> <span class="o">=</span> <span class="mf">0.1</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_excretion_GRAZING</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="n">ten_percent_nex</span></div>



<div class="viewcode-block" id="GrazingStage.PLeach_GRAZING">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrazingStage.PLeach_GRAZING">[docs]</a>
    <span class="k">def</span> <span class="nf">PLeach_GRAZING</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the proportion of phosphorus that is leached from pasture as a result of grazing.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant dietary and physical information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The amount of phosphorus leached from pasture due to grazing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">net_excretion_GRAZING</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.8</span> <span class="o">/</span> <span class="mi">5</span><span class="p">))</span> <span class="o">*</span> <span class="mf">0.03</span></div>


    <span class="c1"># direct and indirect (from leaching) N20 from PRP</span>

<div class="viewcode-block" id="GrazingStage.PRP_N2O_direct">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrazingStage.PRP_N2O_direct">[docs]</a>
    <span class="k">def</span> <span class="nf">PRP_N2O_direct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the direct nitrous oxide (N2O) emissions from pasture, range, and paddock (PRP) as a result</span>
<span class="sd">        of animal grazing.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant dietary and physical information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The direct N2O emissions from PRP due to grazing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">EF</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;direct_n2o_emissions_factors&quot;</span><span class="p">)()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_excretion_GRAZING</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="n">EF</span></div>


<div class="viewcode-block" id="GrazingStage.PRP_N2O_indirect">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.GrazingStage.PRP_N2O_indirect">[docs]</a>
    <span class="k">def</span> <span class="nf">PRP_N2O_indirect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns indirect nitrous oxide (N2O) emissions from atmospheric deposition and leaching related to</span>
<span class="sd">        pasture, range, and paddock (PRP). These indirect emissions contribute to the overall greenhouse gas</span>
<span class="sd">        footprint of grazing practices.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant dietary and physical information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The indirect N2O emissions from PRP due to grazing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">indirect_atmosphere</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;atmospheric_deposition&quot;</span><span class="p">)()</span>
        <span class="n">indirect_leaching</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;leaching&quot;</span><span class="p">)()</span>

        <span class="n">NH3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nh3_emissions_per_year_GRAZING</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Nleach_GRAZING</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">NH3</span> <span class="o">*</span> <span class="n">indirect_atmosphere</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">NL</span> <span class="o">*</span> <span class="n">indirect_leaching</span><span class="p">)</span></div>
</div>



<span class="c1">#############################################################################################</span>
<span class="c1"># Housing Stage</span>
<span class="c1">#############################################################################################</span>


<div class="viewcode-block" id="HousingStage">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.HousingStage">[docs]</a>
<span class="k">class</span> <span class="nc">HousingStage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the housing stage of animals, calculating various emissions and excretion rates</span>
<span class="sd">    associated with animals being indoors.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ----------</span>
<span class="sd">    data_manager_class : LCADataManager</span>
<span class="sd">        An instance of LCADataManager to access various data related to livestock and their environmental impacts.</span>
<span class="sd">    energy_class : Energy</span>
<span class="sd">        An instance of Energy class to access energy-related calculations for livestock.</span>

<span class="sd">    Methods:</span>
<span class="sd">    -------</span>
<span class="sd">    percent_indoors(animal):</span>
<span class="sd">        Calculates the percentage of time an animal spends indoors.</span>
<span class="sd">    volatile_solids_excretion_rate_HOUSED(animal):</span>
<span class="sd">        Calculates the rate of volatile solids excreted by housed animals per day.</span>
<span class="sd">    net_excretion_HOUSED(animal):</span>
<span class="sd">        Calculates the amount of nitrogen excreted per year by animals while they are housed.</span>
<span class="sd">    total_ammonia_nitrogen_nh4_HOUSED(animal):</span>
<span class="sd">        Calculates the total ammonia nitrogen excreted per year by housed animals.</span>
<span class="sd">    nh3_emissions_per_year_HOUSED(animal):</span>
<span class="sd">        Calculates the total ammonia emissions per year from housing.</span>
<span class="sd">    HOUSING_N2O_indirect(animal):</span>
<span class="sd">        Calculates indirect nitrous oxide emissions from the housing stage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ef_country</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">LCADataManager</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span> <span class="o">=</span> <span class="n">Energy</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>

<div class="viewcode-block" id="HousingStage.percent_indoors">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.HousingStage.percent_indoors">[docs]</a>
    <span class="k">def</span> <span class="nf">percent_indoors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the percentage of the day that the animal spends indoors including time stabled.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant data such as time spent indoors and stabled.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The percentage of the day the animal spends indoors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">hours</span> <span class="o">=</span> <span class="mi">24</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">t_indoors</span> <span class="o">+</span> <span class="n">animal</span><span class="o">.</span><span class="n">t_stabled</span><span class="p">)</span> <span class="o">/</span> <span class="n">hours</span></div>


<div class="viewcode-block" id="HousingStage.volatile_solids_excretion_rate_HOUSED">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.HousingStage.volatile_solids_excretion_rate_HOUSED">[docs]</a>
    <span class="k">def</span> <span class="nf">volatile_solids_excretion_rate_HOUSED</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the rate of volatile solids excreted by housed animals per day, considering the energy</span>
<span class="sd">        content of their diet and time spent indoors.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant dietary and housing information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The daily rate of volatile solids excretion for housed animals.</span>

<span class="sd">        Notes:</span>
<span class="sd">        ------</span>
<span class="sd">            Volitile Solids Excretion Rate (kg/day -1)</span>
<span class="sd">            GEcon = Gross Energy from Concentrates</span>
<span class="sd">            GEgrass = Gross Energy from grass</span>
<span class="sd">            DE= Percentage of Digestible Energy</span>
<span class="sd">            UE = Urinary Energy</span>
<span class="sd">            ASH = Ash content of manure</span>
<span class="sd">            18.45 = conversion factor for dietary GE per kg of dry matter, MJ kg-1.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">DEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_concentrate_digestable_energy</span><span class="p">(</span>
            <span class="n">animal</span><span class="o">.</span><span class="n">con_type</span>
        <span class="p">)</span>  <span class="c1"># Digestibility of concentrate</span>
        <span class="n">UE</span> <span class="o">=</span> <span class="mf">0.04</span>
        <span class="n">ASH</span> <span class="o">=</span> <span class="mf">0.08</span>
        <span class="n">DMD</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_forage_digestibility</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">forage</span><span class="p">)</span>
        <span class="n">GEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">gross_energy_from_concentrate</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">GEG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">gross_energy_from_grass</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">IN</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">percent_indoors</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="p">(((</span><span class="n">GEC</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">DEC</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">UE</span> <span class="o">*</span> <span class="n">GEC</span><span class="p">))</span> <span class="o">*</span> <span class="p">((</span><span class="mi">1</span> <span class="o">-</span> <span class="n">ASH</span><span class="p">)</span> <span class="o">/</span> <span class="mf">18.45</span><span class="p">))</span>
            <span class="o">+</span> <span class="p">((</span><span class="n">GEG</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">DMD</span> <span class="o">/</span> <span class="mi">100</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">UE</span> <span class="o">*</span> <span class="n">GEG</span><span class="p">))</span> <span class="o">*</span> <span class="p">((</span><span class="mi">1</span> <span class="o">-</span> <span class="n">ASH</span><span class="p">)</span> <span class="o">/</span> <span class="mf">18.45</span><span class="p">))</span>
        <span class="p">)</span> <span class="o">*</span> <span class="n">IN</span></div>


<div class="viewcode-block" id="HousingStage.net_excretion_HOUSED">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.HousingStage.net_excretion_HOUSED">[docs]</a>
    <span class="k">def</span> <span class="nf">net_excretion_HOUSED</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the amount of nitrogen excreted per year by animals while they are housed, factoring in</span>
<span class="sd">        the protein content of their diet and the time they spend indoors.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant dietary and housing information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The annual amount of nitrogen excreted by housed animals.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">CP</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_concentrate_crude_protein</span><span class="p">(</span>
            <span class="n">animal</span><span class="o">.</span><span class="n">con_type</span>
        <span class="p">)</span>  <span class="c1"># crude protein percentage (N contained in crude protein), apparently, 16% is the average N content; https://www.feedipedia.org/node/8329</span>
        <span class="n">FCP</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_grass_crude_protein</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">forage</span><span class="p">)</span>
        <span class="n">GEC</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">gross_energy_from_concentrate</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">GEG</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_class</span><span class="o">.</span><span class="n">gross_energy_from_grass</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">IN</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">percent_indoors</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="n">N_retention_fraction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;N_retention&quot;</span><span class="p">)()</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="p">((((</span><span class="n">GEC</span> <span class="o">*</span> <span class="mi">365</span><span class="p">)</span> <span class="o">/</span> <span class="mf">18.45</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">CP</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="mf">6.25</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">N_retention_fraction</span><span class="p">))</span>
            <span class="o">+</span> <span class="p">((((</span><span class="n">GEG</span> <span class="o">*</span> <span class="mi">365</span><span class="p">)</span> <span class="o">/</span> <span class="mf">18.45</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">FCP</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="mf">6.25</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">0.02</span><span class="p">))</span>
        <span class="p">)</span> <span class="o">*</span> <span class="n">IN</span></div>

    

<div class="viewcode-block" id="HousingStage.total_ammonia_nitrogen_nh4_HOUSED">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.HousingStage.total_ammonia_nitrogen_nh4_HOUSED">[docs]</a>
    <span class="k">def</span> <span class="nf">total_ammonia_nitrogen_nh4_HOUSED</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total ammonia nitrogen (TAN NH4) excreted by housed animals.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant excretion information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The total ammonia nitrogen excreted by housed animals.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">percentage_nex</span> <span class="o">=</span> <span class="mf">0.6</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_excretion_HOUSED</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="n">percentage_nex</span></div>


<div class="viewcode-block" id="HousingStage.nh3_emissions_per_year_HOUSED">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.HousingStage.nh3_emissions_per_year_HOUSED">[docs]</a>
    <span class="k">def</span> <span class="nf">nh3_emissions_per_year_HOUSED</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total ammonia (NH3) emissions per year resulting from animal housing.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant housing and manure management information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The total ammonia emissions per year from animal housing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># N-NH3 per year</span>
        <span class="c1"># TAN</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">total_ammonia_nitrogen_nh4_HOUSED</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
            <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_storage_TAN</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">mm_storage</span><span class="p">)()</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="HousingStage.HOUSING_N2O_indirect">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.HousingStage.HOUSING_N2O_indirect">[docs]</a>
    <span class="k">def</span> <span class="nf">HOUSING_N2O_indirect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates indirect nitrous oxide (N2O) emissions associated with the housing stage of animal</span>
<span class="sd">        rearing, considering ammonia emissions and atmospheric deposition.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant housing and emissions information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            Indirect N2O emissions resulting from animal housing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ef</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_indirect_atmospheric_deposition</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="n">indirect_n2o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nh3_emissions_per_year_HOUSED</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="n">ef</span>

        <span class="k">return</span> <span class="n">indirect_n2o</span></div>
</div>



<span class="c1">#############################################################################################</span>
<span class="c1"># Storage Stage</span>
<span class="c1">#############################################################################################</span>


<div class="viewcode-block" id="StorageStage">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.StorageStage">[docs]</a>
<span class="k">class</span> <span class="nc">StorageStage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the manure storage stage of farm management, calculating various emissions and excretion rates</span>
<span class="sd">    associated with the storage of animal waste.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ----------</span>
<span class="sd">    housing_class : HousingStage</span>
<span class="sd">        An instance of HousingStage to access calculations related to the housing phase of animal management.</span>
<span class="sd">    data_manager_class : LCADataManager</span>
<span class="sd">        An instance of LCADataManager to access various data related to livestock and environmental impacts.</span>

<span class="sd">    Methods:</span>
<span class="sd">    -------</span>
<span class="sd">    net_excretion_STORAGE(animal):</span>
<span class="sd">        Calculates the net nitrogen excretion from storage.</span>
<span class="sd">    total_ammonia_nitrogen_nh4_STORAGE(animal):</span>
<span class="sd">        Calculates the total ammonia nitrogen excreted per year from storage.</span>
<span class="sd">    CH4_STORAGE(animal):</span>
<span class="sd">        Calculates the methane emissions from manure storage per year.</span>
<span class="sd">    STORAGE_N2O_direct(animal):</span>
<span class="sd">        Calculates direct nitrous oxide emissions from manure storage.</span>
<span class="sd">    nh3_emissions_per_year_STORAGE(animal):</span>
<span class="sd">        Calculates the total ammonia emissions per year from manure storage.</span>
<span class="sd">    STORAGE_N2O_indirect(animal):</span>
<span class="sd">        Calculates indirect nitrous oxide emissions from manure storage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ef_country</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">housing_class</span> <span class="o">=</span> <span class="n">HousingStage</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">LCADataManager</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>

<div class="viewcode-block" id="StorageStage.net_excretion_STORAGE">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.StorageStage.net_excretion_STORAGE">[docs]</a>
    <span class="k">def</span> <span class="nf">net_excretion_STORAGE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the net nitrogen excretion from manure storage.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant housing information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The net nitrogen excretion from manure storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">housing_class</span><span class="o">.</span><span class="n">net_excretion_HOUSED</span><span class="p">(</span>
            <span class="n">animal</span>
        <span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">housing_class</span><span class="o">.</span><span class="n">nh3_emissions_per_year_HOUSED</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span></div>


<div class="viewcode-block" id="StorageStage.total_ammonia_nitrogen_nh4_STORAGE">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.StorageStage.total_ammonia_nitrogen_nh4_STORAGE">[docs]</a>
    <span class="k">def</span> <span class="nf">total_ammonia_nitrogen_nh4_STORAGE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total ammonia nitrogen (TAN NH4) excreted per year from manure storage.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant excretion information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The total ammonia nitrogen from manure storage per year.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">percentage_nex</span> <span class="o">=</span> <span class="mf">0.6</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_excretion_STORAGE</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="n">percentage_nex</span></div>


<div class="viewcode-block" id="StorageStage.CH4_STORAGE">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.StorageStage.CH4_STORAGE">[docs]</a>
    <span class="k">def</span> <span class="nf">CH4_STORAGE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates methane (CH4) emissions from manure storage per year.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant waste management information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            Methane emissions from manure storage per year.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">housing_class</span><span class="o">.</span><span class="n">volatile_solids_excretion_rate_HOUSED</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="mi">365</span>
        <span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.1</span> <span class="o">*</span> <span class="mf">0.67</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_storage_MCF</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">mm_storage</span><span class="p">)())</span></div>


<div class="viewcode-block" id="StorageStage.STORAGE_N2O_direct">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.StorageStage.STORAGE_N2O_direct">[docs]</a>
    <span class="k">def</span> <span class="nf">STORAGE_N2O_direct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates direct nitrous oxide (N2O) emissions from manure storage.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant waste management information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            Direct N2O emissions from manure storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_excretion_STORAGE</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_storage_N2O</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">mm_storage</span><span class="p">)()</span></div>



<div class="viewcode-block" id="StorageStage.nh3_emissions_per_year_STORAGE">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.StorageStage.nh3_emissions_per_year_STORAGE">[docs]</a>
    <span class="k">def</span> <span class="nf">nh3_emissions_per_year_STORAGE</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total ammonia (NH3) emissions per year resulting from manure storage.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant storage information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            Total ammonia emissions per year from manure storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">total_ammonia_nitrogen_nh4_STORAGE</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
            <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_storage_TAN</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">mm_storage</span><span class="p">)()</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="StorageStage.STORAGE_N2O_indirect">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.StorageStage.STORAGE_N2O_indirect">[docs]</a>
    <span class="k">def</span> <span class="nf">STORAGE_N2O_indirect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates indirect nitrous oxide (N2O) emissions associated with the storage stage of waste management,</span>
<span class="sd">        considering ammonia emissions and atmospheric deposition.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ----------</span>
<span class="sd">        animal : object</span>
<span class="sd">            The animal object containing relevant storage information.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            Indirect N2O emissions resulting from manure storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">indirect_atmosphere</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;atmospheric_deposition&quot;</span><span class="p">)()</span>

        <span class="n">NH3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nh3_emissions_per_year_STORAGE</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">NH3</span> <span class="o">*</span> <span class="n">indirect_atmosphere</span></div>
</div>



<span class="c1">###############################################################################</span>
<span class="c1"># Daily Spread</span>
<span class="c1">###############################################################################</span>


<div class="viewcode-block" id="DailySpread">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.DailySpread">[docs]</a>
<span class="k">class</span> <span class="nc">DailySpread</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class to calculate the environmental impacts associated with daily manure spreading. </span>
<span class="sd">    It addresses various factors such as nitrogen and phosphorus excretion, ammonia emissions,</span>
<span class="sd">    and nitrous oxide emissions from spreading manure on fields.</span>
<span class="sd">    </span>
<span class="sd">    Attributes:</span>
<span class="sd">    ----------</span>
<span class="sd">        storage_class (StorageStage): An instance of the StorageStage class to access methods related to manure storage.</span>
<span class="sd">        data_manager_class (LCADataManager): An instance of the LCADataManager class to access necessary data and parameters.</span>
<span class="sd">    </span>
<span class="sd">    Parameters:</span>
<span class="sd">    ----------</span>
<span class="sd">        ef_country (str): Environmental factor region identifier to tailor calculations to specific regional data.</span>

<span class="sd">    Methods:</span>
<span class="sd">    -------</span>
<span class="sd">        net_excretion_SPREAD(animal):</span>
<span class="sd">            Calculates the net nitrogen excretion from manure storage, accounting for losses.</span>
<span class="sd">        total_ammonia_nitrogen_nh4_SPREAD(animal):</span>
<span class="sd">            Calculates the total ammonia nitrogen released from daily manure spreading.</span>
<span class="sd">        SPREAD_N2O_direct(animal):</span>
<span class="sd">            Calculates direct nitrous oxide emissions associated with nitrogen applied to fields through manure spreading.</span>
<span class="sd">        nh3_emissions_per_year_SPREAD(animal):</span>
<span class="sd">            Calculates ammonia emissions per year resulting from daily manure spreading.</span>
<span class="sd">        leach_nitrogen_SPREAD(animal):</span>
<span class="sd">            Estimates the proportion of nitrogen that is leached into the environment as a result of manure spreading.</span>
<span class="sd">        leach_phospherous_SPREAD(animal):</span>
<span class="sd">            Estimates the proportion of phosphorus that is leached into the environment as a result of manure spreading.</span>
<span class="sd">        SPREAD_N2O_indirect(animal):</span>
<span class="sd">            Calculates indirect nitrous oxide emissions associated with volatilization and leaching due to manure spreading.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ef_country</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span> <span class="o">=</span> <span class="n">StorageStage</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">LCADataManager</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>

<div class="viewcode-block" id="DailySpread.net_excretion_SPREAD">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.DailySpread.net_excretion_SPREAD">[docs]</a>
    <span class="k">def</span> <span class="nf">net_excretion_SPREAD</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the net nitrogen excretion (Nex) from manure storage, accounting for losses.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            animal (Animal): An instance of the Animal class containing relevant data for the animal.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            float: Net nitrogen excretion from storage, used in daily spread.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nex_storage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span><span class="o">.</span><span class="n">net_excretion_STORAGE</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">direct_n2o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span><span class="o">.</span><span class="n">STORAGE_N2O_direct</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">nh3_emissions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span><span class="o">.</span><span class="n">nh3_emissions_per_year_STORAGE</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">indirect_n2o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span><span class="o">.</span><span class="n">STORAGE_N2O_indirect</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">nex_storage</span> <span class="o">-</span> <span class="n">direct_n2o</span> <span class="o">-</span> <span class="n">nh3_emissions</span> <span class="o">-</span> <span class="n">indirect_n2o</span></div>


<div class="viewcode-block" id="DailySpread.total_ammonia_nitrogen_nh4_SPREAD">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.DailySpread.total_ammonia_nitrogen_nh4_SPREAD">[docs]</a>
    <span class="k">def</span> <span class="nf">total_ammonia_nitrogen_nh4_SPREAD</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total ammonia nitrogen (TAN) released from daily manure spreading.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            animal (Animal): An instance of the Animal class containing relevant data for the animal.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            float: Total ammonia nitrogen from daily spreading per year.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">percentage_nex</span> <span class="o">=</span> <span class="mf">0.6</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_excretion_SPREAD</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="n">percentage_nex</span></div>


<div class="viewcode-block" id="DailySpread.SPREAD_N2O_direct">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.DailySpread.SPREAD_N2O_direct">[docs]</a>
    <span class="k">def</span> <span class="nf">SPREAD_N2O_direct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates direct nitrous oxide (N2O) emissions associated with nitrogen applied to fields through manure spreading.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            animal (Animal): An instance of the Animal class containing relevant data for the animal.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            float: Direct N2O emissions from daily spreading.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_excretion_SPREAD</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span><span class="s2">&quot;proportion_n2o_to_soils&quot;</span><span class="p">)()</span></div>


<div class="viewcode-block" id="DailySpread.nh3_emissions_per_year_SPREAD">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.DailySpread.nh3_emissions_per_year_SPREAD">[docs]</a>
    <span class="k">def</span> <span class="nf">nh3_emissions_per_year_SPREAD</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates ammonia (NH3) emissions per year resulting from daily manure spreading.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            animal (Animal): An instance of the Animal class containing relevant data for the animal.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            float: Ammonia emissions per year from daily spreading.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nh4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_ammonia_nitrogen_nh4_SPREAD</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">nh4</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_daily_spreading</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">daily_spreading</span><span class="p">)()</span></div>



<div class="viewcode-block" id="DailySpread.leach_nitrogen_SPREAD">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.DailySpread.leach_nitrogen_SPREAD">[docs]</a>
    <span class="k">def</span> <span class="nf">leach_nitrogen_SPREAD</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Estimates the proportion of nitrogen that is leached into the environment as a result of manure spreading.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            animal (Animal): An instance of the Animal class containing relevant data for the animal.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            float: Amount of nitrogen leached per year from daily spreading.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ten_percent_nex</span> <span class="o">=</span> <span class="mf">0.1</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">net_excretion_SPREAD</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="n">ten_percent_nex</span></div>


<div class="viewcode-block" id="DailySpread.leach_phospherous_SPREAD">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.DailySpread.leach_phospherous_SPREAD">[docs]</a>
    <span class="k">def</span> <span class="nf">leach_phospherous_SPREAD</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Estimates the proportion of phosphorus that is leached into the environment as a result of manure spreading.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            animal (Animal): An instance of the Animal class containing relevant data for the animal.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            float: Amount of phosphorus leached per year from daily spreading.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">net_excretion_SPREAD</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.8</span> <span class="o">/</span> <span class="mi">5</span><span class="p">))</span> <span class="o">*</span> <span class="mf">0.03</span></div>


<div class="viewcode-block" id="DailySpread.SPREAD_N2O_indirect">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.DailySpread.SPREAD_N2O_indirect">[docs]</a>
    <span class="k">def</span> <span class="nf">SPREAD_N2O_indirect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates indirect nitrous oxide (N2O) emissions associated with volatilization and leaching due to manure spreading.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            animal (Animal): An instance of the Animal class containing relevant data for the animal.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            float: Indirect N2O emissions from daily spreading.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">indirect_atmosphere</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;atmospheric_deposition&quot;</span><span class="p">)()</span>
        <span class="n">indirect_leaching</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_parameter</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">cohort</span><span class="p">,</span> <span class="s2">&quot;leaching&quot;</span><span class="p">)()</span>

        <span class="n">NH3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nh3_emissions_per_year_SPREAD</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="n">NL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">leach_nitrogen_SPREAD</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">NH3</span> <span class="o">*</span> <span class="n">indirect_atmosphere</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">NL</span> <span class="o">*</span> <span class="n">indirect_leaching</span><span class="p">)</span></div>
</div>



<span class="c1">###############################################################################</span>
<span class="c1"># Farm &amp; Upstream Emissions</span>
<span class="c1">###############################################################################</span>


<div class="viewcode-block" id="FertiliserInputs">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs">[docs]</a>
<span class="k">class</span> <span class="nc">FertiliserInputs</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class to manage and calculate emissions and other impacts associated with fertiliser application, including urea and ammonium nitrate.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ----------</span>
<span class="sd">        data_manager_class (LCADataManager): An instance of the LCADataManager class to access necessary data and parameters for emission factors and other related data.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    ----------</span>
<span class="sd">        ef_country (str): The environmental factor region identifier to tailor calculations to specific regional data.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ef_country</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">LCADataManager</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>

<div class="viewcode-block" id="FertiliserInputs.urea_N2O_direct">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.urea_N2O_direct">[docs]</a>
    <span class="k">def</span> <span class="nf">urea_N2O_direct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates direct N2O emissions from both standard and abated urea applied to soils.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_urea (float): Total amount of urea applied (kg).</span>
<span class="sd">            total_urea_abated (float): Total amount of abated urea applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total direct N2O emissions (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ef_urea</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_ef_urea</span><span class="p">()</span>
        <span class="n">ef_urea_abated</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_ef_urea_abated</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">total_urea</span> <span class="o">*</span> <span class="n">ef_urea</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">total_urea_abated</span> <span class="o">*</span> <span class="n">ef_urea_abated</span><span class="p">)</span></div>


<div class="viewcode-block" id="FertiliserInputs.urea_NH3">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.urea_NH3">[docs]</a>
    <span class="k">def</span> <span class="nf">urea_NH3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Estimates the amount of NH3 volatilized from both standard and abated urea applications.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_urea (float): Total amount of urea applied (kg).</span>
<span class="sd">            total_urea_abated (float): Total amount of abated urea applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total NH3 emissions (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ef_urea</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_ef_urea_to_nh3_and_nox</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">ef_urea_abated</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_ef_urea_abated_to_nh3_and_nox</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">total_urea</span> <span class="o">*</span> <span class="n">ef_urea</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">total_urea_abated</span> <span class="o">*</span> <span class="n">ef_urea_abated</span><span class="p">)</span></div>


<div class="viewcode-block" id="FertiliserInputs.urea_nleach">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.urea_nleach">[docs]</a>
    <span class="k">def</span> <span class="nf">urea_nleach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the amount of urea and abated urea leached from soils after application.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_urea (float): Total amount of urea applied (kg).</span>
<span class="sd">            total_urea_abated (float): Total amount of abated urea applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total leached urea (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">leach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_ef_fration_leach_runoff</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">total_urea</span> <span class="o">+</span> <span class="n">total_urea_abated</span><span class="p">)</span> <span class="o">*</span> <span class="n">leach</span></div>


<div class="viewcode-block" id="FertiliserInputs.urea_N2O_indirect">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.urea_N2O_indirect">[docs]</a>
    <span class="k">def</span> <span class="nf">urea_N2O_indirect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates indirect emissions from urea and abated urea application, considering atmospheric deposition and leaching.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_urea (float): Total amount of urea applied (kg).</span>
<span class="sd">            total_urea_abated (float): Total amount of abated urea applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total indirect N2O emissions (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">indirect_atmosphere</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_indirect_atmospheric_deposition</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">indirect_leaching</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_indirect_leaching</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urea_NH3</span><span class="p">(</span><span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">)</span> <span class="o">*</span> <span class="n">indirect_atmosphere</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">urea_nleach</span><span class="p">(</span><span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">)</span> <span class="o">*</span> <span class="n">indirect_leaching</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="FertiliserInputs.urea_co2">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.urea_co2">[docs]</a>
    <span class="k">def</span> <span class="nf">urea_co2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total CO2 emissions resulting from the application of urea.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_urea (float): Total amount of urea applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total CO2 emissions (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ef_urea_co2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_ef_urea_co2</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">total_urea</span>  <span class="o">*</span> <span class="n">ef_urea_co2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span>
            <span class="mi">44</span> <span class="o">/</span> <span class="mi">12</span>
        <span class="p">)</span>  <span class="c1"># adjusted to the NIR version of this calculation</span></div>



<div class="viewcode-block" id="FertiliserInputs.lime_co2">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.lime_co2">[docs]</a>
    <span class="k">def</span> <span class="nf">lime_co2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_lime</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total CO2 emissions from the application of lime.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_lime (float): Total amount of lime applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total CO2 emissions from lime application (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ef_lime_co2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_ef_lime_co2</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">total_lime</span> <span class="o">*</span> <span class="n">ef_lime_co2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span>
            <span class="mi">44</span> <span class="o">/</span> <span class="mi">12</span>
        <span class="p">)</span>  <span class="c1"># adjusted to the NIR version of this calculation</span></div>


<div class="viewcode-block" id="FertiliserInputs.urea_P_leach">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.urea_P_leach">[docs]</a>
    <span class="k">def</span> <span class="nf">urea_P_leach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the amount of phosphorus leached from urea and abated urea application.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_urea (float): Total amount of urea applied (kg).</span>
<span class="sd">            total_urea_abated (float): Total amount of abated urea applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total phosphorus leached (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">frac_leach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_frac_p_leach</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">total_urea</span> <span class="o">+</span> <span class="n">total_urea_abated</span><span class="p">)</span> <span class="o">*</span> <span class="n">frac_leach</span></div>


    <span class="c1"># Nitrogen Fertiliser Emissions</span>

<div class="viewcode-block" id="FertiliserInputs.n_fertiliser_P_leach">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.n_fertiliser_P_leach">[docs]</a>
    <span class="k">def</span> <span class="nf">n_fertiliser_P_leach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the amount of phosphorus leached due to the application of nitrogen fertilisers.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_n_fert (float): Total amount of nitrogen fertiliser applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total phosphorus leached due to nitrogen fertiliser application (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">frac_leach</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_frac_p_leach</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">total_n_fert</span> <span class="o">*</span> <span class="n">frac_leach</span></div>


<div class="viewcode-block" id="FertiliserInputs.n_fertiliser_direct">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.n_fertiliser_direct">[docs]</a>
    <span class="k">def</span> <span class="nf">n_fertiliser_direct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates direct N2O emissions resulting from the application of nitrogen fertilisers at field level.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_n_fert (float): Total amount of nitrogen fertiliser applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total direct N2O emissions from nitrogen fertiliser application (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ef</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_ef_AN_fertiliser</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">total_n_fert</span> <span class="o">*</span> <span class="n">ef</span></div>


<div class="viewcode-block" id="FertiliserInputs.n_fertiliser_NH3">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.n_fertiliser_NH3">[docs]</a>
    <span class="k">def</span> <span class="nf">n_fertiliser_NH3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total NH3 emissions resulting from the application of nitrogen fertilisers at field level.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_n_fert (float): Total amount of nitrogen fertiliser applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total NH3 emissions from nitrogen fertiliser application (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ef</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_ef_AN_fertiliser_to_nh3_and_nox</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">total_n_fert</span> <span class="o">*</span> <span class="n">ef</span></div>


<div class="viewcode-block" id="FertiliserInputs.n_fertiliser_nleach">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.n_fertiliser_nleach">[docs]</a>
    <span class="k">def</span> <span class="nf">n_fertiliser_nleach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total nitrogen leached from the application of nitrogen fertilisers at field level.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_n_fert (float): Total amount of nitrogen fertiliser applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total nitrogen leached from nitrogen fertiliser application (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ef</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_ef_fration_leach_runoff</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">total_n_fert</span> <span class="o">*</span> <span class="n">ef</span></div>



<div class="viewcode-block" id="FertiliserInputs.n_fertiliser_indirect">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.n_fertiliser_indirect">[docs]</a>
    <span class="k">def</span> <span class="nf">n_fertiliser_indirect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the indirect N2O emissions from the use of nitrogen fertilisers, accounting for atmospheric deposition and leaching.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_n_fert (float): Total amount of nitrogen fertiliser applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total indirect N2O emissions from nitrogen fertiliser application (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">indirect_atmosphere</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_indirect_atmospheric_deposition</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">indirect_leaching</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_indirect_leaching</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_fertiliser_NH3</span><span class="p">(</span><span class="n">total_n_fert</span><span class="p">)</span> <span class="o">*</span> <span class="n">indirect_atmosphere</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">n_fertiliser_nleach</span><span class="p">(</span><span class="n">total_n_fert</span><span class="p">)</span> <span class="o">*</span> <span class="n">indirect_leaching</span>
        <span class="p">)</span></div>


    <span class="c1"># Fertiliser Application Totals for N20 and CO2</span>

<div class="viewcode-block" id="FertiliserInputs.total_fertiliser_N20">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.total_fertiliser_N20">[docs]</a>
    <span class="k">def</span> <span class="nf">total_fertiliser_N20</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the total N2O emissions, both direct and indirect, from the application of both urea and ammonium nitrate fertilisers.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_urea (float): Total amount of urea applied (kg).</span>
<span class="sd">            total_urea_abated (float): Total amount of abated urea applied (kg).</span>
<span class="sd">            total_n_fert (float): Total amount of nitrogen fertiliser applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total N2O emissions from all fertiliser applications (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">urea_N2O_direct</span><span class="p">(</span><span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">)</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">urea_N2O_indirect</span><span class="p">(</span><span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">)</span>
        <span class="p">)</span> <span class="o">+</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">n_fertiliser_direct</span><span class="p">(</span><span class="n">total_n_fert</span><span class="p">)</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_fertiliser_indirect</span><span class="p">(</span><span class="n">total_n_fert</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="FertiliserInputs.p_fertiliser_P_leach">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.FertiliserInputs.p_fertiliser_P_leach">[docs]</a>
    <span class="k">def</span> <span class="nf">p_fertiliser_P_leach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_p_fert</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the amount of phosphorus leached due to the application of phosphorus fertilisers.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_p_fert (float): Total amount of phosphorus fertiliser applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total phosphorus leached from phosphorus fertiliser application (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">frac_leach</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_frac_p_leach</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">total_p_fert</span> <span class="o">*</span> <span class="n">frac_leach</span></div>
</div>



<span class="c1">################################################################################</span>
<span class="c1"># Total Global Warming Potential of whole farms (Upstream Processes &amp; Fossil Fuel Energy)</span>
<span class="c1">################################################################################</span>

<div class="viewcode-block" id="Upstream">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Upstream">[docs]</a>
<span class="k">class</span> <span class="nc">Upstream</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles the calculation of upstream emissions related to concentrate production, diesel usage, and electricity consumption </span>
<span class="sd">    for the environmental impact assessment of sheep farming operations. It focuses on CO2 and PO4 emissions from various </span>
<span class="sd">    sources including fertiliser production, diesel fuel, and electricity used in farm operations.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        data_manager_class (LCADataManager): Provides access to necessary data for calculations.</span>

<span class="sd">    Methods:</span>
<span class="sd">        co2_from_concentrate_production: Calculates CO2 emissions from concentrate production for sheep.</span>
<span class="sd">        po4_from_concentrate_production: Calculates PO4 emissions from concentrate production for sheep.</span>
<span class="sd">        diesel_CO2: Estimates CO2 emissions from diesel fuel usage.</span>
<span class="sd">        diesel_PO4: Estimates PO4 emissions from diesel fuel usage.</span>
<span class="sd">        elec_CO2: Calculates CO2 emissions from electricity consumption.</span>
<span class="sd">        elec_PO4: Calculates PO4 emissions from electricity consumption.</span>
<span class="sd">        fert_upstream_CO2: Estimates CO2 emissions from the production of various fertilisers.</span>
<span class="sd">        fert_upstream_EP: Estimates PO4 emissions from the production of various fertilisers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ef_country</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">LCADataManager</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>

<div class="viewcode-block" id="Upstream.co2_from_concentrate_production">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Upstream.co2_from_concentrate_production">[docs]</a>
    <span class="k">def</span> <span class="nf">co2_from_concentrate_production</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates CO2e emissions from the production of concentrates consumed by the animal cohorts.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (object): An object containing data about different animal cohorts and their concentrate consumption.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total CO2e emissions from concentrate production for all animal cohorts (kg/year).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">concentrate_co2</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">concentrate_co2</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">con_amount</span>
                    <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_concentrate_co2e</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">con_type</span>
                    <span class="p">)</span>
                <span class="p">)</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>

        <span class="k">return</span> <span class="n">concentrate_co2</span> <span class="o">*</span> <span class="mi">365</span></div>

    
        <span class="c1"># Imported Feeds</span>
<div class="viewcode-block" id="Upstream.po4_from_concentrate_production">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Upstream.po4_from_concentrate_production">[docs]</a>
    <span class="k">def</span> <span class="nf">po4_from_concentrate_production</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates phosphorus (PO4e) emissions from the production of concentrates consumed by the animal cohorts.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (object): An object containing data about different animal cohorts and their concentrate consumption.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total PO4e emissions from concentrate production for all animal cohorts (kg/year).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">concentrate_p</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">concentrate_p</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">con_amount</span>
                    <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_concentrate_po4e</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">con_type</span>
                    <span class="p">)</span>
                <span class="p">)</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>

        <span class="k">return</span> <span class="n">concentrate_p</span> <span class="o">*</span> <span class="mi">365</span></div>


<div class="viewcode-block" id="Upstream.diesel_CO2">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Upstream.diesel_CO2">[docs]</a>
    <span class="k">def</span> <span class="nf">diesel_CO2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diesel_kg</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates CO2e emissions from diesel consumption, including both direct and indirect upstream emissions.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            diesel_kg (float): The amount of diesel consumed (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total CO2e emissions from diesel consumption (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Diesel_indir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_diesel_co2e_indirect</span><span class="p">()</span>
        <span class="n">Diest_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_diesel_co2e_direct</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">diesel_kg</span> <span class="o">*</span> <span class="p">(</span><span class="n">Diest_dir</span> <span class="o">+</span> <span class="n">Diesel_indir</span><span class="p">)</span></div>

    

<div class="viewcode-block" id="Upstream.diesel_PO4">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Upstream.diesel_PO4">[docs]</a>
    <span class="k">def</span> <span class="nf">diesel_PO4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diesel_kg</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates phosphorus (PO4e) emissions from diesel consumption, including both direct and indirect upstream emissions.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            diesel_kg (float): The amount of diesel consumed (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total PO4e emissions from diesel consumption (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Diesel_indir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_diesel_po4e_indirect</span><span class="p">()</span>
        <span class="n">Diest_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_diesel_po4e_direct</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">diesel_kg</span> <span class="o">*</span> <span class="p">(</span><span class="n">Diest_dir</span> <span class="o">+</span> <span class="n">Diesel_indir</span><span class="p">)</span></div>



<div class="viewcode-block" id="Upstream.elec_CO2">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Upstream.elec_CO2">[docs]</a>
    <span class="k">def</span> <span class="nf">elec_CO2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elec_kwh</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates CO2e emissions from electricity consumption.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            elec_kwh (float): The amount of electricity consumed (kWh).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total CO2e emissions from electricity consumption (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">elec_consumption</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_electricity_co2e</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">elec_kwh</span> <span class="o">*</span> <span class="n">elec_consumption</span></div>



<div class="viewcode-block" id="Upstream.elec_PO4">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Upstream.elec_PO4">[docs]</a>
    <span class="k">def</span> <span class="nf">elec_PO4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elec_kwh</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates phosphorus emissions (PO4e) from electricity consumption.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            elec_kwh (float): The amount of electricity consumed (kWh).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total PO4e emissions from electricity consumption (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">elec_consumption</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_electricity_po4e</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">elec_kwh</span> <span class="o">*</span> <span class="n">elec_consumption</span></div>


    <span class="c1"># Emissions from upstream fertiliser production</span>
<div class="viewcode-block" id="Upstream.fert_upstream_CO2">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Upstream.fert_upstream_CO2">[docs]</a>
    <span class="k">def</span> <span class="nf">fert_upstream_CO2</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">,</span> <span class="n">total_p_fert</span><span class="p">,</span> <span class="n">total_k_fert</span><span class="p">,</span> <span class="n">total_lime_fert</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total upstream CO2e emissions from the production of various fertilizers.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_n_fert (float): Total nitrogen fertilizer applied (kg).</span>
<span class="sd">            total_urea (float): Total urea applied (kg).</span>
<span class="sd">            total_urea_abated (float): Total abated urea applied (kg).</span>
<span class="sd">            total_p_fert (float): Total phosphorus fertilizer applied (kg).</span>
<span class="sd">            total_k_fert (float): Total potassium fertilizer applied (kg).</span>
<span class="sd">            total_lime_fert (float): Total lime fertilizer applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total upstream CO2e emissions from fertilizer production (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">AN_fert_CO2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_AN_fertiliser_co2e</span><span class="p">()</span><span class="c1"># Ammonium Nitrate Fertiliser</span>
        <span class="n">Urea_fert_CO2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_urea_fertiliser_co2e</span><span class="p">()</span>
        <span class="n">Triple_superphosphate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_triple_phosphate_co2e</span><span class="p">()</span>
        <span class="n">Potassium_chloride</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_potassium_chloride_co2e</span><span class="p">()</span>
        <span class="n">Lime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_lime_co2e</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">total_n_fert</span> <span class="o">*</span> <span class="n">AN_fert_CO2</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">total_urea</span> <span class="o">*</span> <span class="n">Urea_fert_CO2</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">total_urea_abated</span> <span class="o">*</span> <span class="n">Urea_fert_CO2</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">total_p_fert</span> <span class="o">*</span> <span class="n">Triple_superphosphate</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">total_k_fert</span> <span class="o">*</span> <span class="n">Potassium_chloride</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">total_lime_fert</span> <span class="o">*</span> <span class="n">Lime</span><span class="p">)</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Upstream.fert_upstream_EP">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Upstream.fert_upstream_EP">[docs]</a>
    <span class="k">def</span> <span class="nf">fert_upstream_EP</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">,</span> <span class="n">total_p_fert</span><span class="p">,</span> <span class="n">total_k_fert</span><span class="p">,</span> <span class="n">total_lime_fert</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total upstream emissions (PO4e) from the production of various fertilizers.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_n_fert (float): Total nitrogen fertilizer applied (kg).</span>
<span class="sd">            total_urea (float): Total urea applied (kg).</span>
<span class="sd">            total_urea_abated (float): Total abated urea applied (kg).</span>
<span class="sd">            total_p_fert (float): Total phosphorus fertilizer applied (kg).</span>
<span class="sd">            total_k_fert (float): Total potassium fertilizer applied (kg).</span>
<span class="sd">            total_lime_fert (float): Total lime fertilizer applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total upstream emissions (PO4e) from fertilizer production (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">AN_fert_PO4</span> <span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_AN_fertiliser_po4e</span><span class="p">()</span><span class="c1"># Ammonium Nitrate Fertiliser</span>
        <span class="n">Urea_fert_PO4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_urea_fertiliser_po4e</span><span class="p">()</span>
        <span class="n">Triple_superphosphate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_triple_phosphate_po4e</span><span class="p">()</span>
        <span class="n">Potassium_chloride</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_potassium_chloride_po4e</span><span class="p">()</span>
        <span class="n">Lime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_upstream_lime_po4e</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">total_n_fert</span> <span class="o">*</span> <span class="n">AN_fert_PO4</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">total_urea</span> <span class="o">*</span> <span class="n">Urea_fert_PO4</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">total_urea_abated</span> <span class="o">*</span> <span class="n">Urea_fert_PO4</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">total_p_fert</span> <span class="o">*</span> <span class="n">Triple_superphosphate</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">total_k_fert</span> <span class="o">*</span> <span class="n">Potassium_chloride</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">total_lime_fert</span> <span class="o">*</span> <span class="n">Lime</span><span class="p">)</span>
        <span class="p">)</span></div>
</div>



<span class="c1">################################################################################</span>
<span class="c1"># Allocation</span>
<span class="c1">################################################################################</span>
<div class="viewcode-block" id="Allocation">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Allocation">[docs]</a>
<span class="k">class</span> <span class="nc">Allocation</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class is responsible for calculating the allocations of live weight and milk production </span>
<span class="sd">    for various animal cohorts within a farm system. It provides methods to calculate total live </span>
<span class="sd">    weight outputs and inputs, convert these weights to energy units, and determine allocation </span>
<span class="sd">    factors for milk and meat based on these energy values.</span>

<span class="sd">    Methods in this class allow for the calculation of the total output in terms of live weight </span>
<span class="sd">    and milk, as well as the conversion of these outputs to energy equivalents for allocation </span>
<span class="sd">    purposes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Allocation.live_weight_output">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Allocation.live_weight_output">[docs]</a>
    <span class="k">def</span> <span class="nf">live_weight_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total live weight output from all animal cohorts.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (object): An object containing data about different animal cohorts and their live weights and number sold.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total live weight output for all animal cohorts (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">dairy_cows</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">dairy_cows</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">suckler_cows</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">suckler_cows</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">bulls</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">bulls</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxD_calves_m</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_calves_m</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxD_calves_f</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_calves_f</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxB_calves_m</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_calves_m</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxB_calves_f</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_calves_f</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">BxB_calves_m</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_calves_m</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">BxB_calves_f</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_calves_f</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxD_heifers_less_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_heifers_less_2_yr</span><span class="o">.</span><span class="n">n_sold</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxD_steers_less_2_yr</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_steers_less_2_yr</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxB_heifers_less_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_heifers_less_2_yr</span><span class="o">.</span><span class="n">n_sold</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxB_steers_less_2_yr</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_steers_less_2_yr</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">BxB_heifers_less_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_heifers_less_2_yr</span><span class="o">.</span><span class="n">n_sold</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">BxB_steers_less_2_yr</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_steers_less_2_yr</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxD_heifers_more_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_heifers_more_2_yr</span><span class="o">.</span><span class="n">n_sold</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxD_steers_more_2_yr</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_steers_more_2_yr</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxB_heifers_more_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_heifers_more_2_yr</span><span class="o">.</span><span class="n">n_sold</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxB_steers_more_2_yr</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_steers_more_2_yr</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">BxB_heifers_more_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_heifers_more_2_yr</span><span class="o">.</span><span class="n">n_sold</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">BxB_steers_more_2_yr</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_steers_more_2_yr</span><span class="o">.</span><span class="n">n_sold</span><span class="p">)</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Allocation.live_weight_bought">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Allocation.live_weight_bought">[docs]</a>
    <span class="k">def</span> <span class="nf">live_weight_bought</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total live weight bought for all animal cohorts.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (object): An object containing data about different animal cohorts and their live weights and number bought.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total live weight bought for all animal cohorts (kg).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">dairy_cows</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">dairy_cows</span><span class="o">.</span><span class="n">n_bought</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">suckler_cows</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">suckler_cows</span><span class="o">.</span><span class="n">n_bought</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">bulls</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">bulls</span><span class="o">.</span><span class="n">n_bought</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxD_calves_m</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_calves_m</span><span class="o">.</span><span class="n">n_bought</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxD_calves_f</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_calves_f</span><span class="o">.</span><span class="n">n_bought</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxB_calves_m</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_calves_m</span><span class="o">.</span><span class="n">n_bought</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">DxB_calves_f</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_calves_f</span><span class="o">.</span><span class="n">n_bought</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">BxB_calves_m</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_calves_m</span><span class="o">.</span><span class="n">n_bought</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">BxB_calves_f</span><span class="o">.</span><span class="n">weight</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_calves_f</span><span class="o">.</span><span class="n">n_bought</span><span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxD_heifers_less_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_heifers_less_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxD_steers_less_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_steers_less_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxB_heifers_less_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_heifers_less_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxB_steers_less_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_steers_less_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">BxB_heifers_less_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_heifers_less_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">BxB_steers_less_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_steers_less_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxD_heifers_more_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_heifers_more_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxD_steers_more_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxD_steers_more_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxB_heifers_more_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_heifers_more_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">DxB_steers_more_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">DxB_steers_more_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">BxB_heifers_more_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_heifers_more_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
            <span class="o">+</span> <span class="p">(</span>
                <span class="n">animal</span><span class="o">.</span><span class="n">BxB_steers_more_2_yr</span><span class="o">.</span><span class="n">weight</span>
                <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">BxB_steers_more_2_yr</span><span class="o">.</span><span class="n">n_bought</span>
            <span class="p">)</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Allocation.live_weight_to_mje">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Allocation.live_weight_to_mje">[docs]</a>
    <span class="k">def</span> <span class="nf">live_weight_to_mje</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts the total live weight output to Megajoules of energy (MJe).</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (object): An object containing data about different animal cohorts.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total energy output from live weight for all animal cohorts (MJe).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">converstion_MJe</span> <span class="o">=</span> <span class="mf">12.36</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">live_weight_output</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="n">converstion_MJe</span></div>


<div class="viewcode-block" id="Allocation.milk_to_kg_output">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Allocation.milk_to_kg_output">[docs]</a>
    <span class="k">def</span> <span class="nf">milk_to_kg_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total milk output in kilograms for dairy cows.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (object): An object containing data about the dairy cow cohort.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total milk output for dairy cows (kg/year).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># kg of milk</span>
        <span class="n">kg_conversion</span> <span class="o">=</span> <span class="mf">1.033</span>
        <span class="n">year</span> <span class="o">=</span> <span class="mi">365</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">animal</span><span class="o">.</span><span class="n">dairy_cows</span><span class="o">.</span><span class="n">daily_milk</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="n">dairy_cows</span><span class="o">.</span><span class="n">pop</span> <span class="o">*</span> <span class="n">year</span> <span class="o">*</span> <span class="n">kg_conversion</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Allocation.milk_to_mje">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Allocation.milk_to_mje">[docs]</a>
    <span class="k">def</span> <span class="nf">milk_to_mje</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts the total milk output to Megajoules of energy (MJe).</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (object): An object containing data about the dairy cow cohort.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total energy output from milk for dairy cows (MJe).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">converstion_MJe</span> <span class="o">=</span> <span class="mf">2.5</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">milk_to_kg_output</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">*</span> <span class="n">converstion_MJe</span></div>


<div class="viewcode-block" id="Allocation.milk_allocation_factor">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Allocation.milk_allocation_factor">[docs]</a>
    <span class="k">def</span> <span class="nf">milk_allocation_factor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the allocation factor for milk based on its energy content compared to the total energy content of milk and meat.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (object): An object containing data about the dairy cow cohort and other animal cohorts contributing to meat production.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The allocation factor for milk.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">milk_to_mje</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">live_weight_to_mje</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">milk_to_mje</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span> <span class="o">/</span> <span class="n">total</span></div>


<div class="viewcode-block" id="Allocation.meat_allocation_factor">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.Allocation.meat_allocation_factor">[docs]</a>
    <span class="k">def</span> <span class="nf">meat_allocation_factor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the allocation factor for meat based on its energy content compared to the total energy content of milk and meat.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (object): An object containing data about the dairy cow cohort and other animal cohorts contributing to meat production.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The allocation factor for meat.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">milk_allocation_factor</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span></div>
</div>



<span class="c1">################################################################################</span>
<span class="c1"># Totals</span>
<span class="c1">################################################################################</span>


<div class="viewcode-block" id="ClimateChangeTotals">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals">[docs]</a>
<span class="k">class</span> <span class="nc">ClimateChangeTotals</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class calculates total greenhouse gas emissions associated with various farm activities </span>
<span class="sd">    including enteric fermentation, manure management, soil management, and the upstream </span>
<span class="sd">    impacts of fuel and feed production. It utilizes data from various other classes to </span>
<span class="sd">    accumulate total emissions related to climate change.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ----------</span>
<span class="sd">        data_manager_class (LCADataManager): Manages lifecycle assessment data.</span>
<span class="sd">        grass_feed_class (GrassFeed): Manages grass feed-related calculations.</span>
<span class="sd">        grazing_class (GrazingStage): Manages grazing-related calculations.</span>
<span class="sd">        spread_class (DailySpread): Manages nutrient spreading-related calculations.</span>
<span class="sd">        housing_class (HousingStage): Manages housing-related calculations.</span>
<span class="sd">        storage_class (StorageStage): Manages manure storage-related calculations.</span>
<span class="sd">        fertiliser_class (FertiliserInputs): Manages fertiliser input-related calculations.</span>
<span class="sd">        upstream_class (Upstream): Manages upstream emissions calculations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ef_country</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">LCADataManager</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grass_feed_class</span> <span class="o">=</span> <span class="n">GrassFeed</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span> <span class="o">=</span> <span class="n">GrazingStage</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spread_class</span> <span class="o">=</span> <span class="n">DailySpread</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">housing_class</span> <span class="o">=</span> <span class="n">HousingStage</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span> <span class="o">=</span> <span class="n">StorageStage</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span> <span class="o">=</span> <span class="n">FertiliserInputs</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">upstream_class</span> <span class="o">=</span> <span class="n">Upstream</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>

<div class="viewcode-block" id="ClimateChangeTotals.create_emissions_dictionary">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.create_emissions_dictionary">[docs]</a>
    <span class="k">def</span> <span class="nf">create_emissions_dictionary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a dictionary template for emissions calculations with zero-initialized values.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            keys (list): List of animal cohorts or other categories for emissions calculation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A dictionary of dictionaries for organizing emissions data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;enteric_ch4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;manure_management_N2O&quot;</span><span class="p">,</span>
            <span class="s2">&quot;manure_management_CH4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;manure_applied_N&quot;</span><span class="p">,</span>
            <span class="s2">&quot;N_direct_PRP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;N_direct_PRP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;N_indirect_PRP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;N_direct_fertiliser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;N_indirect_fertiliser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soils_CO2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_organic_N_direct&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_organic_N_indirect&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_inorganic_N_direct&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_inorganic_N_indirect&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_histosol_N_direct&quot;</span><span class="p">,</span>
            <span class="s2">&quot;crop_residue_direct&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_N_direct&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_N_indirect&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soils_N2O&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="n">keys_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>

        <span class="n">emissions_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">key_list</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">emissions_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">emissions_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">keys_dict</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">inner_k</span> <span class="ow">in</span> <span class="n">keys_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">emissions_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">inner_k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">return</span> <span class="n">emissions_dict</span></div>

    

<div class="viewcode-block" id="ClimateChangeTotals.create_expanded_emissions_dictionary">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.create_expanded_emissions_dictionary">[docs]</a>
    <span class="k">def</span> <span class="nf">create_expanded_emissions_dictionary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extends the basic emissions dictionary template with additional categories for more </span>
<span class="sd">        detailed emissions calculations.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            keys (list): List of animal cohorts or other categories for detailed emissions calculation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: An expanded dictionary of dictionaries for organizing detailed emissions data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;enteric_ch4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;manure_management_N2O&quot;</span><span class="p">,</span>
            <span class="s2">&quot;manure_management_CH4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;manure_applied_N&quot;</span><span class="p">,</span>
            <span class="s2">&quot;N_direct_PRP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;N_direct_PRP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;N_indirect_PRP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;N_direct_fertiliser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;N_indirect_fertiliser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soils_CO2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_organic_N_direct&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_organic_N_indirect&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_inorganic_N_direct&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_inorganic_N_indirect&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_histosol_N_direct&quot;</span><span class="p">,</span>
            <span class="s2">&quot;crop_residue_direct&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_N_direct&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soil_N_indirect&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soils_N2O&quot;</span><span class="p">,</span>
            <span class="s2">&quot;upstream_fuel_fert&quot;</span><span class="p">,</span>
            <span class="s2">&quot;upstream_feed&quot;</span><span class="p">,</span>
            <span class="s2">&quot;upstream&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="n">keys_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>

        <span class="n">emissions_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">key_list</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">emissions_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">emissions_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">keys_dict</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">inner_k</span> <span class="ow">in</span> <span class="n">keys_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">emissions_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">inner_k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">return</span> <span class="n">emissions_dict</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.Enteric_CH4">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.Enteric_CH4">[docs]</a>
    <span class="k">def</span> <span class="nf">Enteric_CH4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates methane emissions from enteric fermentation for a given animal.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (AnimalCategory): The animal cohort for which emissions are being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total methane emissions from enteric fermentation for the specified animal (kg CH4).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">grass_feed_class</span><span class="o">.</span><span class="n">ch4_emissions_factor</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.CH4_enteric_ch4">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.CH4_enteric_ch4">[docs]</a>
    <span class="k">def</span> <span class="nf">CH4_enteric_ch4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Accumulates total methane emissions from enteric fermentation across all animal cohorts.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (AnimalCollection): Collection of animal cohorts within the farm system.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total methane emissions from enteric fermentation across all cohorts (kg CH4).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">Enteric_CH4</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
                    <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.CH4_manure_management">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.CH4_manure_management">[docs]</a>
    <span class="k">def</span> <span class="nf">CH4_manure_management</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates methane emissions from manure management for animal cohorts.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (AnimalCollection): Collection of animal cohorts within the farm system.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total methane emissions from manure management across all cohorts (kg CH4).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">Total_manure_ch4</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
                    <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.PRP_Total">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.PRP_Total">[docs]</a>
    <span class="k">def</span> <span class="nf">PRP_Total</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total N2O emissions related to Pasture, Range, and Paddock (PRP) for a given animal.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (AnimalCategory): The animal cohort for which emissions are being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total N2O emissions from PRP for the specified animal.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mole_weight</span> <span class="o">=</span> <span class="mi">44</span> <span class="o">/</span> <span class="mi">28</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span><span class="o">.</span><span class="n">PRP_N2O_direct</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span><span class="o">.</span><span class="n">PRP_N2O_indirect</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>
        <span class="p">)</span> <span class="o">*</span> <span class="n">mole_weight</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.Total_N2O_Spreading">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.Total_N2O_Spreading">[docs]</a>
    <span class="k">def</span> <span class="nf">Total_N2O_Spreading</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total N2O emissions related to the spreading of manure for a given animal collection.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (AnimalCategory): The animal collection for which emissions are being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total N2O emissions from manure spreading for the specified animal collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mole_weight</span> <span class="o">=</span> <span class="mi">44</span> <span class="o">/</span> <span class="mi">28</span>

        <span class="n">Spreading</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">Spreading</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">spread_class</span><span class="o">.</span><span class="n">SPREAD_N2O_direct</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
                    <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">spread_class</span><span class="o">.</span><span class="n">SPREAD_N2O_indirect</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">Spreading</span> <span class="o">*</span> <span class="n">mole_weight</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.Total_storage_N2O">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.Total_storage_N2O">[docs]</a>
    <span class="k">def</span> <span class="nf">Total_storage_N2O</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total N2O emissions related to the storage of manure for a given animal collection.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (AnimalCategory): The animal collection for which emissions are being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total N2O emissions from manure storage for the specified animal collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mole_weight</span> <span class="o">=</span> <span class="mi">44</span> <span class="o">/</span> <span class="mi">28</span>

        <span class="n">n2o_direct</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">n2o_indirect_storage</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">n2o_indirect_housing</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">n2o_direct</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span><span class="o">.</span><span class="n">STORAGE_N2O_direct</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
                    <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>
                <span class="p">)</span>
                <span class="n">n2o_indirect_storage</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span><span class="o">.</span><span class="n">STORAGE_N2O_indirect</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>
                <span class="p">)</span>
                <span class="n">n2o_indirect_housing</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">housing_class</span><span class="o">.</span><span class="n">HOUSING_N2O_indirect</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">n2o_direct</span> <span class="o">+</span> <span class="n">n2o_indirect_storage</span> <span class="o">+</span> <span class="n">n2o_indirect_housing</span><span class="p">)</span> <span class="o">*</span> <span class="n">mole_weight</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.N2O_total_PRP_N2O_direct">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.N2O_total_PRP_N2O_direct">[docs]</a>
    <span class="k">def</span> <span class="nf">N2O_total_PRP_N2O_direct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the direct N2O emissions from pasture, range, and paddock for a given animal collection.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (AnimalCategory): The animal cohort collection for which emissions are being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Direct N2O emissions from PRP for the specified animal collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mole_weight</span> <span class="o">=</span> <span class="mi">44</span> <span class="o">/</span> <span class="mi">28</span>

        <span class="n">PRP_direct</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">PRP_direct</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span><span class="o">.</span><span class="n">PRP_N2O_direct</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
                    <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">PRP_direct</span> <span class="o">*</span> <span class="n">mole_weight</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.N2O_total_PRP_N2O_indirect">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.N2O_total_PRP_N2O_indirect">[docs]</a>
    <span class="k">def</span> <span class="nf">N2O_total_PRP_N2O_indirect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the indirect N2O emissions from pasture, range, and paddock for a given animal collection.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (AnimalCategory): The animal cohort collection for which emissions are being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Indirect N2O emissions from PRP for the specified animal collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mole_weight</span> <span class="o">=</span> <span class="mi">44</span> <span class="o">/</span> <span class="mi">28</span>

        <span class="n">PRP_indirect</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">PRP_indirect</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span><span class="o">.</span><span class="n">PRP_N2O_indirect</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
                    <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">PRP_indirect</span> <span class="o">*</span> <span class="n">mole_weight</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.Total_manure_ch4">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.Total_manure_ch4">[docs]</a>
    <span class="k">def</span> <span class="nf">Total_manure_ch4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total methane emissions related to manure management for a given animal collection.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (AnimalCategory): The animal collection for which emissions are being calculated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total methane emissions from manure management for the specified animal collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span><span class="o">.</span><span class="n">ch4_emissions_for_grazing</span><span class="p">(</span>
            <span class="n">animal</span>
        <span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span><span class="o">.</span><span class="n">CH4_STORAGE</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.CO2_soils_GWP">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.CO2_soils_GWP">[docs]</a>
    <span class="k">def</span> <span class="nf">CO2_soils_GWP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_lime</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the global warming potential from CO2 emissions related to soil management through urea and lime application.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_urea (float): Total amount of urea used (kg).</span>
<span class="sd">            total_lime (float): Total amount of lime used (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: CO2 emissions from soil management.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">urea_co2</span><span class="p">(</span><span class="n">total_urea</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">lime_co2</span><span class="p">(</span><span class="n">total_lime</span><span class="p">)</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.N2O_direct_fertiliser">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.N2O_direct_fertiliser">[docs]</a>
    <span class="k">def</span> <span class="nf">N2O_direct_fertiliser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total direct N2O emissions from urea and ammonium fertilizers.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_urea (float): Total amount of urea used (kg).</span>
<span class="sd">            total_urea_abated (float): Total amount of urea with emissions-reducing treatments applied (kg).</span>
<span class="sd">            total_n_fert (float): Total amount of nitrogen fertilizer used (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total direct N2O emissions from fertilizer application.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mole_weight</span> <span class="o">=</span> <span class="mi">44</span> <span class="o">/</span> <span class="mi">28</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">urea_N2O_direct</span><span class="p">(</span><span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">)</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">n_fertiliser_direct</span><span class="p">(</span><span class="n">total_n_fert</span><span class="p">)</span>
        <span class="p">)</span> <span class="o">*</span> <span class="n">mole_weight</span>

        <span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.N2O_fertiliser_indirect">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.N2O_fertiliser_indirect">[docs]</a>
    <span class="k">def</span> <span class="nf">N2O_fertiliser_indirect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total indirect N2O emissions from urea and ammonium fertilizers.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_urea (float): Total amount of urea used (kg).</span>
<span class="sd">            total_urea_abated (float): Total amount of urea with emissions-reducing treatments applied (kg).</span>
<span class="sd">            total_n_fert (float): Total amount of nitrogen fertilizer used (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total indirect N2O emissions from fertilizer application.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mole_weight</span> <span class="o">=</span> <span class="mi">44</span> <span class="o">/</span> <span class="mi">28</span>

        <span class="n">Fertilizer_indirect</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">n_fertiliser_indirect</span><span class="p">(</span><span class="n">total_n_fert</span><span class="p">)</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">urea_N2O_indirect</span><span class="p">(</span><span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">)</span>
        <span class="p">)</span> <span class="o">*</span> <span class="n">mole_weight</span>

        <span class="k">return</span> <span class="n">Fertilizer_indirect</span></div>


<div class="viewcode-block" id="ClimateChangeTotals.upstream_and_inputs_and_fuel_co2">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.upstream_and_inputs_and_fuel_co2">[docs]</a>
    <span class="k">def</span> <span class="nf">upstream_and_inputs_and_fuel_co2</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">diesel_kg</span><span class="p">,</span>
        <span class="n">elec_kwh</span><span class="p">,</span>
        <span class="n">total_n_fert</span><span class="p">,</span>
        <span class="n">total_urea</span><span class="p">,</span>
        <span class="n">total_urea_abated</span><span class="p">,</span>
        <span class="n">total_p_fert</span><span class="p">,</span>
        <span class="n">total_k_fert</span><span class="p">,</span>
        <span class="n">total_lime_fert</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total CO2 emissions from various upstream activities and inputs. </span>
<span class="sd">        This includes emissions from the use of diesel, electricity, and different types of fertilizers. </span>

<span class="sd">        Parameters:</span>
<span class="sd">        - diesel_kg: The amount of diesel used, in kilograms.</span>
<span class="sd">        - elec_kwh: The amount of electricity consumed, in kilowatt-hours.</span>
<span class="sd">        - total_n_fert: The total amount of nitrogen fertilizer used, in kilograms.</span>
<span class="sd">        - total_urea: The total amount of urea used, in kilograms.</span>
<span class="sd">        - total_urea_abated: The total amount of abated urea (urea treated to reduce emissions) used, in kilograms.</span>
<span class="sd">        - total_p_fert: The total amount of phosphorus fertilizer used, in kilograms.</span>
<span class="sd">        - total_k_fert: The total amount of potassium fertilizer used, in kilograms.</span>
<span class="sd">        - total_lime_fert: The total amount of lime fertilizer used, in kilograms.</span>

<span class="sd">        Returns:</span>
<span class="sd">        Total CO2 emissions from all specified sources, measured in equivalent kilograms of CO2.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">upstream_class</span><span class="o">.</span><span class="n">diesel_CO2</span><span class="p">(</span><span class="n">diesel_kg</span><span class="p">)</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">upstream_class</span><span class="o">.</span><span class="n">elec_CO2</span><span class="p">(</span><span class="n">elec_kwh</span><span class="p">)</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">upstream_class</span><span class="o">.</span><span class="n">fert_upstream_CO2</span><span class="p">(</span>
                <span class="n">total_n_fert</span><span class="p">,</span>
                <span class="n">total_urea</span><span class="p">,</span>
                <span class="n">total_urea_abated</span><span class="p">,</span>
                <span class="n">total_p_fert</span><span class="p">,</span>
                <span class="n">total_k_fert</span><span class="p">,</span>
                <span class="n">total_lime_fert</span><span class="p">,</span>
            <span class="p">)</span>
            
        <span class="p">)</span></div>

    
<div class="viewcode-block" id="ClimateChangeTotals.co2_from_concentrate_production">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.ClimateChangeTotals.co2_from_concentrate_production">[docs]</a>
    <span class="k">def</span> <span class="nf">co2_from_concentrate_production</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the CO2e emissions from the production of concentrates fed to the animal.</span>
<span class="sd">        This function looks at the type and amount of concentrate feed and uses predefined emission factors to estimate the CO2e impact.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        - animal: The animal collection for which the CO2e emissions are being calculated.</span>
<span class="sd">        This object should contain the type and amount of concentrate feed consumed.</span>

<span class="sd">        Returns:</span>
<span class="sd">        The total CO2e emissions from the production of concentrate feed, measured in equivalent kilograms of CO2.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">upstream_class</span><span class="o">.</span><span class="n">co2_from_concentrate_production</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span></div>
</div>



<span class="c1">###############################################################################</span>
<span class="c1"># Water Quality EP PO4e</span>
<span class="c1">###############################################################################</span>


<div class="viewcode-block" id="EutrophicationTotals">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals">[docs]</a>
<span class="k">class</span> <span class="nc">EutrophicationTotals</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class responsible for calculating the total eutrophication potential associated with a given farming operation. </span>
<span class="sd">    This includes contributions from manure management, soil management, fertiliser application, and upstream processes </span>
<span class="sd">    related to feed and fuel production.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ----------</span>
<span class="sd">        data_manager_class (LCADataManager): An instance of the LCADataManager class to access necessary emission factors and conversion values.</span>
<span class="sd">        grazing_class (GrazingStage): An instance of the GrazingStage class to access grazing-related eutrophication contributions.</span>
<span class="sd">        housing_class (HousingStage): An instance of the HousingStage class to access housing-related eutrophication contributions.</span>
<span class="sd">        storage_class (StorageStage): An instance of the StorageStage class to access storage-related eutrophication contributions.</span>
<span class="sd">        spread_class (DailySpread): An instance of the DailySpread class to access spreading-related eutrophication contributions.</span>
<span class="sd">        fertiliser_class (FertiliserInputs): An instance of the FertiliserInputs class to access fertiliser-related eutrophication contributions.</span>
<span class="sd">        upstream_class (Upstream): An instance of the Upstream class to access upstream-related eutrophication contributions.</span>

<span class="sd">    Methods:</span>
<span class="sd">    --------</span>
<span class="sd">        create_emissions_dictionary(keys): Creates a structured dictionary for tracking eutrophication emissions.</span>
<span class="sd">        create_expanded_emissions_dictionary(keys): Creates a more detailed structured dictionary for tracking eutrophication emissions, including upstream processes.</span>
<span class="sd">        total_manure_NH3_EP(animal): Calculates the total ammonia emissions from manure management, converted to phosphate equivalents.</span>
<span class="sd">        total_fertiliser_soils_NH3_and_LEACH_EP(total_urea, total_urea_abated, total_n_fert): Calculates total ammonia and leaching from fertiliser application to soils, converted to phosphate equivalents.</span>
<span class="sd">        total_grazing_soils_NH3_and_LEACH_EP(animal): Calculates total ammonia and leaching from grazing management to soils, converted to phosphate equivalents.</span>
<span class="sd">        fertiliser_soils_P_LEACH_EP(total_urea, total_urea_abated, total_n_fert, total_p_fert): Calculates total phosphorus leaching from fertiliser application, contributing to eutrophication.</span>
<span class="sd">        grazing_soils_P_LEACH_EP(animal): Calculates total phosphorus leaching from grazing, contributing to eutrophication.</span>
<span class="sd">        total_fertilser_soils_EP(total_urea, total_urea_abated, total_n_fert, total_p_fert): Aggregates total eutrophication potential from fertiliser applications to soils.</span>
<span class="sd">        total_grazing_soils_EP(animal): Aggregates total eutrophication potential from grazing management.</span>
<span class="sd">        upstream_and_inputs_and_fuel_po4(diesel_kg, elec_kwh, total_n_fert, total_urea, total_urea_abated, total_p_fert, total_k_fert, total_lime_fert): Calculates total eutrophication potential from upstream activities and inputs, including fuel and electricity usage.</span>
<span class="sd">        po4_from_concentrate_production(animal): Calculates total phosphorus emissions from concentrate production used in animal diets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ef_country</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">LCADataManager</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span> <span class="o">=</span> <span class="n">GrazingStage</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">housing_class</span> <span class="o">=</span> <span class="n">HousingStage</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span> <span class="o">=</span> <span class="n">StorageStage</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spread_class</span> <span class="o">=</span> <span class="n">DailySpread</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span> <span class="o">=</span> <span class="n">FertiliserInputs</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">upstream_class</span> <span class="o">=</span> <span class="n">Upstream</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>


<div class="viewcode-block" id="EutrophicationTotals.create_emissions_dictionary">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals.create_emissions_dictionary">[docs]</a>
    <span class="k">def</span> <span class="nf">create_emissions_dictionary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a dictionary to store eutrophication emissions data for different categories.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">        -----------</span>
<span class="sd">            keys: A list of keys representing different farm activities or emission sources.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        --------</span>
<span class="sd">            A dictionary with initialized values for each key and sub-key.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;manure_management&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soils&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="n">keys_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>

        <span class="n">emissions_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">key_list</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">emissions_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">emissions_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">keys_dict</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">inner_k</span> <span class="ow">in</span> <span class="n">keys_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">emissions_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">inner_k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">return</span> <span class="n">emissions_dict</span></div>

    

<div class="viewcode-block" id="EutrophicationTotals.create_expanded_emissions_dictionary">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals.create_expanded_emissions_dictionary">[docs]</a>
    <span class="k">def</span> <span class="nf">create_expanded_emissions_dictionary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an expanded dictionary to store detailed eutrophication emissions data.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            keys: A list of keys representing different farm activities or emission sources.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            An expanded dictionary with initialized values for each category and sub-category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;manure_management&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soils&quot;</span><span class="p">,</span>
            <span class="s2">&quot;upstream_fuel_fert&quot;</span><span class="p">,</span>
            <span class="s2">&quot;upstream_feed&quot;</span><span class="p">,</span>
            <span class="s2">&quot;upstream&quot;</span><span class="p">,</span>

        <span class="p">]</span>

        <span class="n">keys_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>

        <span class="n">emissions_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">key_list</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">emissions_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">emissions_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">keys_dict</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">inner_k</span> <span class="ow">in</span> <span class="n">keys_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">emissions_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">inner_k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">return</span> <span class="n">emissions_dict</span></div>

    
    <span class="c1"># Manure Management</span>
<div class="viewcode-block" id="EutrophicationTotals.total_manure_NH3_EP">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals.total_manure_NH3_EP">[docs]</a>
    <span class="k">def</span> <span class="nf">total_manure_NH3_EP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total ammonia emissions from manure, converted to equivalent phosphorus, contributing to eutrophication potential.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            animal: Animal data object containing manure emission details.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            Total ammonia emissions from manure management converted to phosphorus equivalent.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">indirect_atmosphere</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_indirect_atmospheric_deposition</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="n">NH3N</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">NH3N</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span><span class="o">.</span><span class="n">nh3_emissions_per_year_STORAGE</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">housing_class</span><span class="o">.</span><span class="n">nh3_emissions_per_year_HOUSED</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">NH3N</span> <span class="o">*</span> <span class="n">indirect_atmosphere</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.42</span></div>


    <span class="c1"># SOILS</span>
<div class="viewcode-block" id="EutrophicationTotals.total_fertiliser_soils_NH3_and_LEACH_EP">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals.total_fertiliser_soils_NH3_and_LEACH_EP">[docs]</a>
    <span class="k">def</span> <span class="nf">total_fertiliser_soils_NH3_and_LEACH_EP</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">,</span> <span class="n">total_n_fert</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total ammonia and leaching emissions from fertilizer application, converted to phosphorus equivalent.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            total_urea: Total amount of urea applied.</span>
<span class="sd">            total_urea_abated: Total amount of urea with abatement measures applied.</span>
<span class="sd">            total_n_fert: Total amount of nitrogen fertilizers applied.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            Total ammonia and leaching emissions from fertilizers, converted to phosphorus equivalent.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">indirect_atmosphere</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_indirect_atmospheric_deposition</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="n">NH3N</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">urea_NH3</span><span class="p">(</span>
            <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span>
        <span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">n_fertiliser_NH3</span><span class="p">(</span><span class="n">total_n_fert</span><span class="p">)</span>

        <span class="n">LEACH</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">urea_nleach</span><span class="p">(</span>
            <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span>
        <span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">n_fertiliser_nleach</span><span class="p">(</span><span class="n">total_n_fert</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">NH3N</span> <span class="o">*</span> <span class="n">indirect_atmosphere</span><span class="p">)</span> <span class="o">+</span> <span class="n">LEACH</span> <span class="o">*</span> <span class="mf">0.42</span></div>



<div class="viewcode-block" id="EutrophicationTotals.total_grazing_soils_NH3_and_LEACH_EP">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals.total_grazing_soils_NH3_and_LEACH_EP">[docs]</a>
    <span class="k">def</span> <span class="nf">total_grazing_soils_NH3_and_LEACH_EP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total ammonia and leaching emissions from grazing soils, converted to phosphorus equivalent.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            animal: Animal data object containing grazing information.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            Total ammonia and leaching emissions from grazing, converted to phosphorus equivalent.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">indirect_atmosphere</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_indirect_atmospheric_deposition</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="n">NH3N</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">LEACH</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">NH3N</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span><span class="o">.</span><span class="n">nh3_emissions_per_year_GRAZING</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">spread_class</span><span class="o">.</span><span class="n">nh3_emissions_per_year_SPREAD</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>

                <span class="n">LEACH</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span><span class="o">.</span><span class="n">Nleach_GRAZING</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
                    <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">spread_class</span><span class="o">.</span><span class="n">leach_nitrogen_SPREAD</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">NH3N</span> <span class="o">*</span> <span class="n">indirect_atmosphere</span><span class="p">)</span> <span class="o">+</span> <span class="n">LEACH</span> <span class="o">*</span> <span class="mf">0.42</span></div>


<div class="viewcode-block" id="EutrophicationTotals.fertiliser_soils_P_LEACH_EP">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals.fertiliser_soils_P_LEACH_EP">[docs]</a>
    <span class="k">def</span> <span class="nf">fertiliser_soils_P_LEACH_EP</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">,</span> <span class="n">total_p_fert</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates phosphorus leaching from fertilizer application on soils.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            total_urea: Total amount of urea applied.</span>
<span class="sd">            total_urea_abated: Total amount of urea with abatement measures applied.</span>
<span class="sd">            total_n_fert: Total amount of nitrogen fertilizers applied.</span>
<span class="sd">            total_p_fert: Total amount of phosphorus fertilizers applied.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            Total phosphorus leaching from fertilizers application.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">PLEACH</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">urea_P_leach</span><span class="p">(</span><span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">)</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">n_fertiliser_P_leach</span><span class="p">(</span><span class="n">total_n_fert</span><span class="p">)</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">p_fertiliser_P_leach</span><span class="p">(</span><span class="n">total_p_fert</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">PLEACH</span> <span class="o">*</span> <span class="mf">3.06</span></div>


<div class="viewcode-block" id="EutrophicationTotals.grazing_soils_P_LEACH_EP">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals.grazing_soils_P_LEACH_EP">[docs]</a>
    <span class="k">def</span> <span class="nf">grazing_soils_P_LEACH_EP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates phosphorus leaching from grazing soils.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            animal: Animal data object containing grazing information.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            Total phosphorus leaching from grazing activities.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">PLEACH</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">PLEACH</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">spread_class</span><span class="o">.</span><span class="n">leach_phospherous_SPREAD</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span><span class="o">.</span><span class="n">PLeach_GRAZING</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
                <span class="p">)</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>

        <span class="k">return</span> <span class="n">PLEACH</span> <span class="o">*</span> <span class="mf">3.06</span></div>


<div class="viewcode-block" id="EutrophicationTotals.total_fertilser_soils_EP">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals.total_fertilser_soils_EP">[docs]</a>
    <span class="k">def</span> <span class="nf">total_fertilser_soils_EP</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">total_urea</span><span class="p">,</span>
        <span class="n">total_urea_abated</span><span class="p">,</span>
        <span class="n">total_n_fert</span><span class="p">,</span>
        <span class="n">total_p_fert</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total eutrophication potential from fertilizer application on soils.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            total_urea, total_urea_abated, total_n_fert, total_p_fert: Amounts of different fertilizers applied.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            Total eutrophication potential from fertilizer application.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_fertiliser_soils_NH3_and_LEACH_EP</span><span class="p">(</span>
            <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">,</span> <span class="n">total_n_fert</span>
        <span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_soils_P_LEACH_EP</span><span class="p">(</span>
            <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">,</span> <span class="n">total_n_fert</span><span class="p">,</span> <span class="n">total_p_fert</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="EutrophicationTotals.total_grazing_soils_EP">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals.total_grazing_soils_EP">[docs]</a>
    <span class="k">def</span> <span class="nf">total_grazing_soils_EP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total eutrophication potential from grazing soils.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            animal: Animal data object containing grazing information.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            Total eutrophication potential from grazing activities.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_grazing_soils_NH3_and_LEACH_EP</span><span class="p">(</span><span class="n">animal</span>
        <span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">grazing_soils_P_LEACH_EP</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span></div>


    
<div class="viewcode-block" id="EutrophicationTotals.upstream_and_inputs_and_fuel_po4">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals.upstream_and_inputs_and_fuel_po4">[docs]</a>
    <span class="k">def</span> <span class="nf">upstream_and_inputs_and_fuel_po4</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">diesel_kg</span><span class="p">,</span>
        <span class="n">elec_kwh</span><span class="p">,</span>
        <span class="n">total_n_fert</span><span class="p">,</span>
        <span class="n">total_urea</span><span class="p">,</span>
        <span class="n">total_urea_abated</span><span class="p">,</span>
        <span class="n">total_p_fert</span><span class="p">,</span>
        <span class="n">total_k_fert</span><span class="p">,</span>
        <span class="n">total_lime_fert</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total phosphorus emissions from upstream activities, inputs, and fuel related to livestock production.</span>
<span class="sd">        </span>
<span class="sd">        Parameters:</span>
<span class="sd">            diesel_kg, elec_kwh, total_n_fert, total_urea, total_urea_abated, total_p_fert, total_k_fert, total_lime_fert: Quantities of inputs used.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            Total phosphorus emissions from upstream activities.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">upstream_class</span><span class="o">.</span><span class="n">diesel_PO4</span><span class="p">(</span><span class="n">diesel_kg</span><span class="p">)</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">upstream_class</span><span class="o">.</span><span class="n">elec_CO2</span><span class="p">(</span><span class="n">elec_kwh</span><span class="p">)</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">upstream_class</span><span class="o">.</span><span class="n">fert_upstream_CO2</span><span class="p">(</span>
                <span class="n">total_n_fert</span><span class="p">,</span>
                <span class="n">total_urea</span><span class="p">,</span>
                <span class="n">total_urea_abated</span><span class="p">,</span>
                <span class="n">total_p_fert</span><span class="p">,</span>
                <span class="n">total_k_fert</span><span class="p">,</span>
                <span class="n">total_lime_fert</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span></div>

    
<div class="viewcode-block" id="EutrophicationTotals.po4_from_concentrate_production">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.EutrophicationTotals.po4_from_concentrate_production">[docs]</a>
    <span class="k">def</span> <span class="nf">po4_from_concentrate_production</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total phosphorus emissions (PO4 equivalent) resulting from the production of concentrate feeds used in animal diet.</span>
<span class="sd">        This method considers the entire lifecycle of concentrate production including the acquisition of raw materials, processing, and transportation.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal: An object representing the animal cohort, containing data related to the type and amount of concentrate consumed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The total phosphorus emissions (PO4 equivalent) from concentrate production for the given animal cohort over a specified period, contributing to the eutrophication potential of the system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">upstream_class</span><span class="o">.</span><span class="n">po4_from_concentrate_production</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span></div>
</div>



<span class="c1">###############################################################################</span>
<span class="c1"># Air Quality Ammonia</span>
<span class="c1">###############################################################################</span>


<div class="viewcode-block" id="AirQualityTotals">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.AirQualityTotals">[docs]</a>
<span class="k">class</span> <span class="nc">AirQualityTotals</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class calculates the total ammonia (NH3) emissions contributing to air quality impacts from various farm management practices including manure management, soil management, and fertilization strategies. The calculations are based on the lifecycle of animal cohorts and their feed, manure handling practices, as well as fertiliser application rates.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ----------</span>
<span class="sd">        data_manager_class (LCADataManager): A class instance that provides access to necessary emission factors and data specific to a given country or region.</span>
<span class="sd">        grazing_class (GrazingStage): A class instance to calculate emissions from grazing practices.</span>
<span class="sd">        housing_class (HousingStage): A class instance to calculate emissions from animal housing practices.</span>
<span class="sd">        storage_class (StorageStage): A class instance to calculate emissions from manure storage practices.</span>
<span class="sd">        spread_class (DailySpread): A class instance to calculate emissions from manure spreading practices.</span>
<span class="sd">        fertiliser_class (FertiliserInputs): A class instance to calculate emissions from fertiliser application.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ef_country</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">LCADataManager</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span> <span class="o">=</span> <span class="n">GrazingStage</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">housing_class</span> <span class="o">=</span> <span class="n">HousingStage</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span> <span class="o">=</span> <span class="n">StorageStage</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spread_class</span> <span class="o">=</span> <span class="n">DailySpread</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span> <span class="o">=</span> <span class="n">FertiliserInputs</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>


<div class="viewcode-block" id="AirQualityTotals.create_emissions_dictionary">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.AirQualityTotals.create_emissions_dictionary">[docs]</a>
    <span class="k">def</span> <span class="nf">create_emissions_dictionary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a nested dictionary structure to store NH3 emission values from various sources categorized by specific keys (e.g., animal types).</span>

<span class="sd">        Parameters:</span>
<span class="sd">            keys (list): A list of string keys representing different emission categories or animal types.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A nested dictionary structured to hold emission values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key_list</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;manure_management&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soils&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="n">keys_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>

        <span class="n">emissions_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">key_list</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">emissions_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">emissions_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">keys_dict</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">inner_k</span> <span class="ow">in</span> <span class="n">keys_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">emissions_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">inner_k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">return</span> <span class="n">emissions_dict</span></div>


    <span class="c1"># Manure Management</span>
<div class="viewcode-block" id="AirQualityTotals.total_manure_NH3_AQ">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.AirQualityTotals.total_manure_NH3_AQ">[docs]</a>
    <span class="k">def</span> <span class="nf">total_manure_NH3_AQ</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total NH3 emissions from manure management practices for the specified animal collection.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (Animal): An instance representing a specific animal collection.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total NH3 emissions (kg) from manure management for the specified animal collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">NH3N</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">NH3N</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">storage_class</span><span class="o">.</span><span class="n">nh3_emissions_per_year_STORAGE</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">housing_class</span><span class="o">.</span><span class="n">nh3_emissions_per_year_HOUSED</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>

        <span class="k">return</span> <span class="n">NH3N</span></div>


    <span class="c1"># SOILS</span>
<div class="viewcode-block" id="AirQualityTotals.total_fertiliser_soils_NH3_AQ">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.AirQualityTotals.total_fertiliser_soils_NH3_AQ">[docs]</a>
    <span class="k">def</span> <span class="nf">total_fertiliser_soils_NH3_AQ</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span><span class="p">,</span> <span class="n">total_n_fert</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total NH3 emissions from fertiliser application to soils.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            total_urea (float): Total urea fertiliser applied (kg).</span>
<span class="sd">            total_urea_abated (float): Total abated urea fertiliser applied (kg).</span>
<span class="sd">            total_n_fert (float): Total nitrogen fertiliser applied (kg).</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total NH3 emissions (kg) from fertiliser application to soils.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">NH3N</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">urea_NH3</span><span class="p">(</span>
            <span class="n">total_urea</span><span class="p">,</span> <span class="n">total_urea_abated</span>
        <span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fertiliser_class</span><span class="o">.</span><span class="n">n_fertiliser_NH3</span><span class="p">(</span><span class="n">total_n_fert</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">NH3N</span></div>


<div class="viewcode-block" id="AirQualityTotals.total_grazing_soils_NH3_AQ">
<a class="viewcode-back" href="../../autoapi/cattle_lca/lca/index.html#cattle_lca.lca.AirQualityTotals.total_grazing_soils_NH3_AQ">[docs]</a>
    <span class="k">def</span> <span class="nf">total_grazing_soils_NH3_AQ</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates total NH3 emissions from soils during grazing for the specified animal collection.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            animal (Animal): An instance representing a specific animal collection.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total NH3 emissions (kg) from soils during grazing for the specified animal collection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">NH3N</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">animal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">get_cohort_keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span> <span class="o">!=</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">NH3N</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">grazing_class</span><span class="o">.</span><span class="n">nh3_emissions_per_year_GRAZING</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">spread_class</span><span class="o">.</span><span class="n">nh3_emissions_per_year_SPREAD</span><span class="p">(</span>
                        <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span> <span class="o">*</span> <span class="n">animal</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span>

        <span class="k">return</span> <span class="n">NH3N</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Colm Duffy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>